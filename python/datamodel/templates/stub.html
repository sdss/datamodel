<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
        <title>Data Model: {{content.general.name}}</title>
        <link rel="stylesheet" href="/datamodel/datamodel.css" type="text/css" />
        <link rel="icon" href="/datamodel/sdss.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="/datamodel/sdss.ico" type="image/x-icon" />
    </head>
    <body>

    <div id="intro">
        <h1>Data Model: {{content.general.name}}</h1>
        <dl>
        <dt>General Description</dt>
        <dd>
        {{ content.general.description }}
        </dd>

        <dt>Naming Convention</dt>
        <dd id="filename">{{ content.general.naming_convention }}</dd>

        <dt>Approximate Size</dt>
        <dd id="filesize">{{ content.general.filesize}}</dd>

        <dt>File Type</dt>
        <dd id="filetype">{{ content.general.filetype }}</dd>

        <dt>Generated by Product</dt>
        <dd id="generated_by">{{ content.general.generated_by }}</dd>

        <dt id="hdu_list">HDU List</dt>
        <dd><p>This should contain internal links to parts of the file (if any).</p>
            <ul>
                {% for hdu_id, hdu in hdus.items() %}
                <li><a href="#{{ hdu_id }}">{{ hdu_id | upper }}: {{ hdu.name }}</a></li>
                {% endfor %}
            </ul>
        </dd>
        </dl>
    </div>

    {% for hdu_id, hdu in hdus.items() %}
    <div id="{{ hdu_id }}">
        <h2>{{ hdu_id | upper }}: {{ hdu.name }}</h2>
        <p>Summary of the contents of this HDU</p>
        <dl>
        <dt>HDU Type</dt><dd>{{ 'IMAGE' if hdu.is_image else 'BINARY TABLE' }}</dd>
        <dt>HDU Size</dt><dd>{{ hdu.size }}</dd>
        </dl>

         {% if hdu.is_image %}
        <table>
            <caption>Header Table Caption for {{ hdu_id }}</caption>
            <thead id="head-{{ hdu_id }}">
                <tr><th>Key</th><th>Value</th><th>Comment</th></tr>
            </thead>
             <tbody id="body-{{ hdu_id }}">
                {% for header in hdu.header %}
                    <tr><td>{{ header.key }}</td><td>{{ header.value }}</td><td>{{ header.comment }}</td></tr>
                {% endfor %}
             </tbody>
        </table>
        {% else %}
        <table>
            <caption>Binary Table Caption for {{ hdu_id }}</caption>
            <thead id="binhead-{{ hdu_id }}">
                <tr><th>Name</th><th>Type</th><th>Unit</th><th>Description</th></tr>
            </thead>
             <tbody id="binbody-{{ hdu_id }}">
                {% for key, column in hdu.columns.items() %}
                    <tr><td>{{ column.name }}</td><td>{{ column.type}}</td><td>{{ column.unit }}</td><td>{{ column.description }}</td></tr>
                {% endfor %}
             </tbody>
        </table>
        {% endif %}
    </div>
    {% endfor %}

    </body>
</html>
