#!/usr/bin/env python3
# encoding: utf-8
#
# @Author: Joel Brownstein <joelbrownstein@sdss.org>
# @Date: Nov 9, 2020
# @Filename: datamodel_generate
# @License: BSD 3-Clause
# @Copyright: SDSS.

from datamodel.command import Command
from datamodel.generate import Generate

command = Command(name='datamodel_generate')
generate = Generate(options = command.options)
generate.set_directory()
generate.set_file()
generate.set_stub()

"""
usage via commandline:
datamodel_generate -t sdss5 -e APOGEE_REDUX -l daily/summary/allStar-daily-apo25m.fits -v

usage via python:
from datamodel.generate import Generate
generate = Generate(tree_ver = 'sdss5', env_label = 'APOGEE_REDUX', location = 'daily/summary/allStar-daily-apo25m.fits',  verbose = True)
generate.set_directory()
generate.set_file()
generate.set_stub()

datamodel_generate -t sdss5 -f silo_eboss_detections -p EBOSS_SANDBOX/silo/{run2d}/{run1d}/{silo_ver}/silo_eboss_detections-{silo_ver}.fits -k run2d=v5_13_0  run1d=v5_13_0 silo_ver=1.0.1 -v

from datamodel.generate import Generate
generate = Generate(tree_ver = 'sdss5', file_spec = 'silo_eboss_detections', path = 'EBOSS_SANDBOX/silo/{run2d}/{run1d}/{silo_ver}/silo_eboss_detections-{silo_ver}.fits', keywords = ['run2d=v5_13_0', 'run1d=v5_13_0', 'silo_ver=1.0.1'], verbose = True)
generate.set_directory()
generate.set_file()
generate.set_stub()

datamodel_generate -t sdss5 -f spAll -p BOSS_SPECTRO_REDUX/{run2d}/spAll-{run2d}.fits -k run2d=master -v


"""
