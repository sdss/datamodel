general:
  name: proc-gimg
  short: 'migration: needs update'
  description: '<a href="gimg.html">Raw guider images</a> are processed by the guider
    actor,

    which uses the processed results to apply guiding corrections to the telescope,

    and to write a proc-gimg file for each raw file showing what went into

    calculating those corrections.'
  datatype: FITS
  filesize: 260 KB
  releases:
  - DR12
  - DR13
  - DR14
  - DR15
  - DR16
  - DR17
  environments:
  - GCAM_DATA
  naming_convention: '<code>proc-gimg-[0-9]{4}.fits.gz</code>, where the number is
    the

    frame sequence number, starting from 1 for the first frame of the night (usually

    a dark frame).'
  generated_by: guiderActor
changelog:
  description: Describes changes to the datamodel product and/or file structure from
    one release to another
  releases:
    DR17:
      from: DR16
      note: No changes
    DR16:
      from: DR15
      note: No changes
    DR15:
      from: DR14
      note: No changes
    DR14:
      from: DR13
      note: No changes
    DR13:
      from: DR12
      note: No changes
releases:
  DR12:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - mjd
      - index
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
  DR13:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - index
      - mjd
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
  DR14:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - mjd
      - index
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
  DR15:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - mjd
      - index
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
  DR16:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - mjd
      - index
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
  DR17:
    template: $GCAM_DATA/[MJD]/proc-gimg-[INDEX].fits.gz
    example: 55199/proc-gimg-0002.fits.gz
    location: '{mjd}/proc-gimg-{index}.fits.gz'
    environment: GCAM_DATA
    access:
      in_sdss_access: true
      path_name: proc-gimg
      path_template: $GCAM_DATA/{mjd}/proc-gimg-{index:0>4}.fits.gz
      path_kwargs:
      - index
      - mjd
      access_string: proc-gimg = $GCAM_DATA/{mjd}/proc-gimg-{index}.fits.gz
    hdus:
      hdu0:
        name: PRIMARY
        description: 'The primary HDU contains the bias and dark subtracted, flat-fielded
          image frame

          from the gcamera, while the header contains information about the telescope

          position, guiding error, and applied offsets. Note that prior to guiderActor

          v1_4_0, the bias was only approximate, and flat fields were not applied,
          and

          prior to v1_5_0 dark frames were not applied. The v_guider and v_sop keywords

          were introduced in guiderActor v2_5; prior to that, the version of the guider

          used to acquire each image was not directly tracked. GAIN, PIXELSC, and
          READNOIS

          were introduced in vXX.'
        is_image: true
        size: 512 KB
        header:
        - key: SIMPLE
          value: true
          comment: conforms to FITS standard
        - key: BITPIX
          value: 16
          comment: data is 16 bit unsigned integer.
        - key: NAXIS
          value: 2
          comment: 2 dimensional image
        - key: NAXIS1
          value: 512
          comment: 1024 pixels + 24 pixel overscan (halved when binned)
        - key: NAXIS2
          value: 512
          comment: 1024 pixels (halved when binned)
        - key: EXTEND
          value: true
          comment: ''
        - key: IMAGETYP
          value: object
          comment: The image type of the file, e.g. dark, flat, object.
        - key: EXPTIME
          value: 5.0
          comment: exposure time of single integration
        - key: TIMESYS
          value: TAI
          comment: All systems at APO operate on the TAI time system
        - key: DATE-OBS
          value: '2010-01-03 00:48:37.3Z'
          comment: Date and time (in TIMESYS system) that the exposure started.
        - key: CCDTEMP
          value: -40.07863275000001
          comment: camera temperature in degrees C
        - key: FILENAME
          value: /data/gcam/55199/gimg-0002.fits
          comment: The full path to this image, before gzipping.
        - key: OBJECT
          value: gimg-0002
          comment: The name of this image, without any extensions.
        - key: DARKFILE
          value: /data/gcam/55198/gimg-0003.fits
          comment: The dark frame associated with this iamge.
        - key: FLATFILE
          value: /data/gcam/55199/gimg-0001.fits
          comment: The flat frame associated with this image.
        - key: FLATCART
          value: 6
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGX
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BEGY
          value: 0
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINX
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: BINY
          value: 1
          comment: 'migration: description of keyword/column is None in database.
            Needs update'
        - key: CRVAL1
          value: 0
          comment: (output) Column pixel of Reference Pixel
        - key: CRVAL2
          value: 0
          comment: (output) Row pixel of Reference Pixel
        - key: CRPIX1
          value: 0.5
          comment: Column Pixel Coordinate of Reference
        - key: CRPIX2
          value: 0.5
          comment: Row Pixel Coordinate of Reference
        - key: CTYPE1
          value: LINEAR
          comment: Type of projection
        - key: CUNIT1
          value: PIXEL
          comment: Column unit
        - key: CUNIT2
          value: PIXEL
          comment: Row unit
        - key: SDSSFMT
          value: GPROC 1 2
          comment: 'guider file version for STUI: v1 has 7 HDUs.'
        - key: IMGBACK
          value: 1821.0
          comment: crude background for entire image. For STUI.
        - key: SEEING
          value: 0.0
          comment: Estimate of current seeing, arcsec fwhm
        - key: GCAMSCAL
          value: 0.026
          comment: guide camera plate scale (mm/pixel)
        - key: PLATSCAL
          value: 217.7358
          comment: plug plate scale (mm/degree)
        - key: OBJSYS
          value: ICRS
          comment: The TCC objSys
        - key: RA
          value: 321.704
          comment: RA of telescope boresight (deg)
        - key: DEC
          value: 54.0
          comment: Dec of telescope boresight (deg)
        - key: RADEG
          value: 321.704
          comment: RA of telescope pointing(deg)
        - key: DECDEG
          value: 54.0
          comment: Dec of telescope pointing (deg)
        - key: ROTPOS
          value: 0.0
          comment: Rotator request position (deg)
        - key: BOREOFFX
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: BOREOFFY
          value: 0.0
          comment: TCC Boresight offset, deg
        - key: ARCOFFX
          value: -2.0e-06
          comment: TCC ObjArcOff, deg
        - key: ARCOFFY
          value: 1.5e-05
          comment: TCC ObjArcOff, deg
        - key: OBJOFFX
          value: 0.0
          comment: TCC ObjOff, deg
        - key: OBJOFFY
          value: 0.0
          comment: TCC ObjOff, deg
        - key: CALOFFX
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFY
          value: 0.0
          comment: TCC CalibOff, deg
        - key: CALOFFR
          value: 0.0
          comment: TCC CalibOff, deg
        - key: GUIDOFFX
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFY
          value: 0.0
          comment: TCC GuideOff, deg
        - key: GUIDOFFR
          value: 0.000375
          comment: TCC GuideOff, deg
        - key: AZ
          value: 222.786
          comment: Azimuth axis pos. (approx, deg)
        - key: ALT
          value: 50.742
          comment: Altitude axis pos. (approx, deg)
        - key: IPA
          value: 76.628
          comment: Rotator axis pos. (approx, deg)
        - key: SPA
          value: -103.2929863485145
          comment: TCC SpiderInstAng
        - key: FOCUS
          value: 0.0
          comment: User-specified focus offset (um)
        - key: M2PISTON
          value: 1178.44
          comment: TCC SecOrient
        - key: M2XTILT
          value: -3.91
          comment: TCC SecOrient
        - key: M2YTILT
          value: -8.99
          comment: TCC SecOrient
        - key: M2XTRAN
          value: 10.2
          comment: TCC SecOrient
        - key: M2YTRAN
          value: 121.63
          comment: TCC SecOrient
        - key: M1PISTON
          value: 0.0
          comment: TCC PrimOrient
        - key: M1XTILT
          value: -3.04
          comment: TCC PrimOrient
        - key: M1YTILT
          value: 5.26
          comment: TCC PrimOrient
        - key: M1XTRAN
          value: 277.7
          comment: TCC PrimOrient
        - key: M1YTRAN
          value: 178.07
          comment: TCC PrimOrient
        - key: SCALE
          value: 1.0
          comment: User-specified scale factor
        - key: FF
          value: 0 0 0 0
          comment: FF lamps 1:on 0:0ff
        - key: NE
          value: 0 0 0 0
          comment: NE lamps 1:on 0:0ff
        - key: HGCD
          value: 0 0 0 0
          comment: HGCD lamps 1:on 0:0ff
        - key: FFS
          value: 0 0 0 0 0 0 0 0
          comment: Flatfield Screen 1:closed 0:open
        - key: NAME
          value: 3513-55196-01
          comment: The name of the currently loaded plate
        - key: PLATEID
          value: 3513
          comment: The currently loaded plate
        - key: CARTID
          value: 6
          comment: The currently loaded cartridge
        - key: MAPID
          value: 1
          comment: The mapping version of the loaded plate
        - key: POINTING
          value: B
          comment: The currently specified pointing
        - key: DRA
          value: -2.995321980411232e-06
          comment: measured offset in RA, deg
        - key: DDEC
          value: 2.545327581529287e-05
          comment: measured offset in Dec, deg
        - key: DROT
          value: 0.0007499021709283731
          comment: measured rotator offset, deg
        - key: DFOCUS
          value: -99999.9
          comment: measured focus offset, um
        - key: DSCALE
          value: 6.706518758485755e-06
          comment: measured scale offset, %
        - key: FILTRA
          value: 1.797193188246739e-06
          comment: filtered offset in RA, deg
        - key: FILTDEC
          value: -1.527196548917572e-05
          comment: filtered offset in Dec, deg
        - key: FILTROT
          value: -0.0003749510854641866
          comment: filtered rotator offset, deg
        - key: FILTFCUS
          value: -99999.9
          comment: filtered focus offset, um
        - key: FILTSCLE
          value: -3.353259379242878e-06
          comment: filtered scale offset, %
        - key: OFFRA
          value: 1.797193188246739e-06
          comment: applied offset in RA, deg
        - key: OFFDEC
          value: -1.527196548917572e-05
          comment: applied offset in Dec, deg
        - key: OFFROT
          value: -0.0003749510854641866
          comment: applied rotator offset, deg
        - key: OFFFOCUS
          value: -99999.9
          comment: applied focus offset, um
        - key: OFFSCALE
          value: 0.0
          comment: applied scale offset, %
      hdu1:
        name: ''
        description: "The mask for the calibrated guide image. The bit planes are:\n\
          \n    (bit 0) Saturated pixels. As of guiderActor v1_4_0, pixels above 0xF000\
          \ are\n    flagged in the unprocessed image and replaced with 0xF000, and\
          \ those flags\n    are carried through the processing steps.\n    (bit 1)\
          \ Bad/negative pixels. Hot/dead pixels, negative value pixels post-processing,\
          \ etc.\n    (bit 2) Pixels outside the guide probes (\"blank\" regions).\
          \ Not available in\n    v1_0_9 and earlier.\nThis HDU has no non-standard\
          \ required keywords.\nData: FITS image"
        is_image: true
        size: 256 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 512
          comment: length of dimension 1
        - key: NAXIS2
          value: 512
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu2:
        name: ''
        description: 'Postage stamp images for the small guide probes, where each
          postage stamp image has been rotated so that north is up and east is to
          the right. Each postage stamp is square. Extra pixels (pixels around the
          edge that are not computed from the camera image), if any, are set to the
          estimated background. The full image is one tall, skinny image comprised
          of the postage stamps, in order of increasing probe number starting from
          row=y=0.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 6 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu3:
        name: ''
        description: 'Masks associated with the postage stamp images for the small
          guide probes, in

          the same format as <a href="#hdu2">HDU2</a>. The mask bits are the same
          as described in <a href="#hdu1">HDU1</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 19
          comment: length of dimension 1
        - key: NAXIS2
          value: 171
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu4:
        name: ''
        description: 'Postage stamp images of the large acquisition probes, in the
          same format as

          <a href="#hdu2">HDU2</a>

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 3 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 16
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu5:
        name: ''
        description: 'Masks for the images in <a href="#hdu4">HDU4</a>, similar to
          <a href="hdu3">HDU3</a>.

          This HDU has no non-standard required keywords.

          Data: FITS image'
        is_image: true
        size: 1 KB
        header:
        - key: XTENSION
          value: IMAGE
          comment: binary table extension
        - key: BITPIX
          value: 8
          comment: array data type
        - key: NAXIS
          value: 2
          comment: number of array dimensions
        - key: NAXIS1
          value: 29
          comment: length of dimension 1
        - key: NAXIS2
          value: 58
          comment: length of dimension 2
        - key: PCOUNT
          value: 0
          comment: number of group parameters
        - key: GCOUNT
          value: 1
          comment: number of groups
      hdu6:
        name: ''
        description: 'A binary table containing information about the guide probes
          and guide stars.

          Each entry is for one guide probe; data is listed in probe number order

          starting from 1.

          Definitions of the various guide probe bits:

          GOOD   =  0x00     # A happy, working, in-use probe has all bits set to
          0.

          BROKEN =  0x01     # a known broken probe, labeled as such in plPlugMap

          NOSTAR =  0x02     # probe with no star in plPlugMap (e.g. tritium)

          DISABLED = 0x04     # probe that has been disabled by the observers (e.g.
          no star present, double star, wrong position)

          ABOVEFOCUS = 0x08  # fiber is above the focal plane

          BELOWFOCUS = 0x10  # fiber is below the focal plane

          TOOFAINT = 0x20    # observed star is too faint to be reliably used for
          guiding

          UNKNOWN = 0xff     # shouldn''t ever happen

          This HDU has no non-standard required keywords.

          <b>Additional notes on fiber rotation angles:</b>

          The rotStar2Sky value is the primary angle needed to interpret an individual

          fiber image. The postage stamps are rotated such that North is up, with

          <code>

          rotStar2Sky = 90 + rotation - phi

          </code>

          where phi is the angle of the guide fiber alignment hole on the plate measured

          clockwise from North. phi comes from the plPlugmap file for that plate and
          is

          calculated from the relative (x,y) coordinates of the guide fiber hole and
          the

          alignment hole. The rotation keyword is loaded from platedb, and is also

          recorded in the <code>etc/gcamFiberInfo.par</code> file in the guiderActor

          product.'
        is_image: false
        size: 1 KB
        columns:
          exists:
            name: EXISTS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Does this probe exist?
          enabled:
            name: ENABLED
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Was this probe enabled for guiding for this image?
          flags:
            name: FLAGS
            type: bool
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'migration: description of keyword/column not found. Needs
              update'
          xFocal:
            name: XFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          yFocal:
            name: YFOCAL
            type: float32
            unit: plate mm
            description: Center of guide probe on plug plate
          xCenter:
            name: XCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          yCenter:
            name: YCENTER
            type: float32
            unit: guidercam pixels (binned)
            description: Center of guide probe on image
          radius:
            name: RADIUS
            type: float32
            unit: guidercam pixels (binned)
            description: Radius of guide probe active area on image
          xFerruleOffset:
            name: XFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          yFerruleOffset:
            name: YFERRULEOFFSET
            type: float32
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: Offset of guide probe active area w.r.t the ferrule
          rotation:
            name: ROTATION
            type: float32
            unit: degrees
            description: Intrinsic rotation of guide probe measured counter clockwise
              from the guider x axis to the guide probe alignment pin direction.
          rotStar2Sky:
            name: ROTSTAR2SKY
            type: float32
            unit: degrees
            description: Rotation of a guide fiber image on the guide camera (measured
              counter clockwise from the guider x axis North). Rotation of the guide
              fiber image by -rotStar2Sky produces a North up image.
          focusOffset:
            name: FOCUSOFFSET
            type: float32
            unit: micrometers
            description: Focus offset of guide probe; + is further from the secondary
              (shorter ferrule)
          fiber_type:
            name: FIBER_TYPE
            type: char[20]
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Type of guide probe: one of <code>(ACQUIRE|GUIDE|TRITIUM)</code>'
          xstar:
            name: XSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          ystar:
            name: YSTAR
            type: float32
            unit: guidercam pixels (binned)
            description: Centroid of star on image
          dx:
            name: DX
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dy:
            name: DY
            type: float32
            unit: mm, guidercam frame
            description: Centroid of star - center of guide probe on image
          dRA:
            name: DRA
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          dDec:
            name: DDEC
            type: float32
            unit: mm, plate frame
            description: Centroid of star - center of guide probe along RA/Dec
          fwhm:
            name: FWHM
            type: float32
            unit: arcsec
            description: FWHM of star
          poserr:
            name: POSERR
            type: float32
            unit: guidercam pixels (binned)
            description: Estimate of the centroiding error of star
          stampSize:
            name: STAMPSIZE
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp HDU: 1=HDU4 (small), 2=HDU4 (large),
              0=none (Tritium source)'
          stampIdx:
            name: STAMPIDX
            type: int16
            unit: 'migration: unit of keyword/column not found. Needs update'
            description: 'Index of postage stamp: 0 for the postage stamp starting
              at x=0, -1 if no postage stamp (e.g. Tritium source or unavailable guide
              probe).'
