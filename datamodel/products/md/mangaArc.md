# Data Model: mangaArc


This is the extracted arc frame.


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)
- [Notes](#notes)
- [Regrets](#regrets)
---

## Basic Information
This is the extracted arc frame, including wavelenght calibration and removal of fiber-to-fiber flat field variatios. The format is similar to BOSS spArc files, with the exception of a blank extension 0, and extension names vs numbers.

### Naming Convention
mgArc-[camera]-[exposure].fits.gz where [camera] is one of the four cameras on the instrument, b1, r1, or b2, r2, for the blue and red cameras on each SDSS spectrograph, and [exposure] is the (zero-padded) 8-digit exposure number.'

### Releases
DR13, DR14, DR15, DR16, DR17

### Enviroments
MANGA_SPECTRO_REDUX

### Approximate Size
7 MB

### File Type
FITS

### Generated by Product
mangadrp - mdrp_calib.pro

### Is a VAC
False

### Data Level
1.1.2

### HDUS List for release DR17
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: FLUX](#hdu1-flux)
  - [HDU2: LXPEAK](#hdu2-lxpeak)
  - [HDU3: WSET](#hdu3-wset)
  - [HDU4: MASK](#hdu4-mask)
  - [HDU5: LSFPOSTSET](#hdu5-lsfpostset)
  - [HDU6: LSFPRESET](#hdu6-lsfpreset)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - DR17
   - from: DR16
   - added_hdus: ['LSFPRESET', 'LSFPOSTSET']
   - removed_hdus: ['DISPSET']
   - primary_delta_nkeys: 4
   - added_primary_header_kwargs: ['BIASRMS1', 'BIASRMS2', 'BIASRMS0', 'BIASRMS3']
 - DR16
   - from: DR15
   - note: No changes
 - DR15
   - from: DR14
   - primary_delta_nkeys: 1
   - added_primary_header_kwargs: ['DATASUM']
 - DR14
   - from: DR13
   - note: No changes

---
## Example HDUS List

### HDU0: PRIMARY
primary header extension

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True |  |
| BITPIX | 8 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| TELESCOP | SDSS 2.5-M | Sloan Digital Sky Survey |
| FILENAME | sdR-b1-00198580.fit |  |
| CAMERAS | b1 |  |
| EXPOSURE | 198580 |  |
| V_BOSS | v3_6 | Active version of the BOSS ICC |
| CAMDAQ | 1.5.0:38 |  |
| SUBFRAME |  | the subframe readout command |
| ERRCNT | NONE |  |
| SYNCERR | NONE |  |
| SLINES | NONE |  |
| PIXERR | NONE |  |
| PLINES | NONE |  |
| PFERR | NONE |  |
| DIDFLUSH | True | CCD was flushed before integration |
| FLAVOR | arc | exposure type, SDSS spectro style |
| MJD | 57132 | APO fMJD day at start of exposure |
| TAI-BEG | 4936241983.0 | MJD(TAI) seconds at start of integration |
| DATE-OBS | 2015-04-20T10:19:43 | TAI date at start of integration |
| V_GUIDER | v3_1 | version of the current guiderActor |
| V_SOP | v3_1 | version of the current sopActor |
| NAME | 8485-57132-01 | The name of the currently loaded plate |
| PLATEID | 8485 | The currently loaded plate |
| CARTID | 3 | The currently loaded cartridge |
| MAPID | 1 | The mapping version of the loaded plate |
| POINTING | A | The currently specified pointing |
| PLATETYP | APOGEE-2&MaNGA | Type of plate (e.g. BOSS, MANGA, APOGEE, APOGEE |
| SRVYMODE | MaNGA dither | Survey leading this observation and its mode |
| OBJSYS | ICRS | The TCC objSys |
| RA | 234.067561 | RA of telescope boresight (deg) |
| DEC | 48.589408 | Dec of telescope boresight (deg) |
| RADEG | 234.0643 | RA of telescope pointing(deg) |
| DECDEG | 48.5899 | Dec of telescope pointing (deg) |
| SPA | -123.91757765271 | TCC SpiderInstAng |
| ROTPOS | 0.0 | Rotator request position (deg) |
| BOREOFFX | 0.0 | TCC Boresight offset, deg |
| BOREOFFY | 0.0 | TCC Boresight offset, deg |
| ARCOFFX | 0.002157 | TCC ObjArcOff, deg |
| ARCOFFY | -0.000492 | TCC ObjArcOff, deg |
| CALOFFX | 0.0 | TCC CalibOff, deg |
| CALOFFY | 0.0 | TCC CalibOff, deg |
| CALOFFR | 0.0 | TCC CalibOff, deg |
| GUIDOFFX | 0.0 | TCC GuideOff, deg |
| GUIDOFFY | 0.0 | TCC GuideOff, deg |
| GUIDOFFR | 0.034657 | TCC GuideOff, deg |
| AZ | 220.699784 | Azimuth axis pos. (approx, deg) |
| ALT | 66.70168 | Altitude axis pos. (approx, deg) |
| IPA | 55.837414 | Rotator axis pos. (approx, deg) |
| FOCUS | 417.3336 | User-specified focus offset (um) |
| M2PISTON | 209.15 | TCC SecOrient |
| M2XTILT | -3.78 | TCC SecOrient |
| M2YTILT | 0.0 | TCC SecOrient |
| M2XTRAN | 0.0 | TCC SecOrient |
| M2YTRAN | -168.46 | TCC SecOrient |
| M2ZROT | -0.05 | TCC SecOrient |
| M1PISTON | -1624.62 | TCC PrimOrient |
| M1XTILT | -0.0 | TCC PrimOrient |
| M1YTILT | -0.0 | TCC PrimOrient |
| M1XTRAN | 650.72 | TCC PrimOrient |
| M1YTRAN | 936.55 | TCC PrimOrient |
| M1ZROT | -0.0 | TCC PrimOrient |
| SCALE | 1.000165 | User-specified scale factor |
| V_APO | trunk+svn158476 | version of the current apoActor |
| PRESSURE | 21.402 | pressure: Barometric pressure |
| WINDD | 263.4 | windd: Average wind direction |
| WINDS | 7.1 | winds: Average wind speed |
| GUSTD | 261.9 | gustd: Average gust direction |
| GUSTS | 9.7 | gusts: Average gust speed |
| AIRTEMP | 4.8 | airTempPT: PT air temperature |
| DEWPOINT | -4.6 | dpTempPT: PT dewpoint temperature |
| TRUSTEMP | 2.79 | truss25m: 25m median truss temperature |
| HUMIDITY | 45.0 | humidity: Site humidity |
| DUSTA | 21353.0 | dusta: PT outside dust density, 0.3 microns |
| DUSTB | 983.0 | dustb: PT outside dust density, 1.0 micron |
| WINDD25M | 338.4 | windd25m: 25m wind direction |
| WINDS25M | 6.5 | winds25m: 25m wind speed |
| FF | 0 0 0 0 | FF lamps 1:on 0:0ff |
| NE | 1 1 1 1 | NE lamps 1:on 0:0ff |
| HGCD | 1 1 1 1 | HGCD lamps 1:on 0:0ff |
| FFS | 1 1 1 1 1 1 1 1 | Flatfield Screen 1:closed 0:open |
| MGDPOS | C | MaNGA dither position (C,N,S,E) |
| MGDRA | 0.0 | MaNGA decenter in RA, redundant with MGDPOS |
| MGDDEC | 0.0 | MaNGA decenter in Dec, redundant with MGDPOS |
| GUIDER1 | proc-gimg-0364.fits.gz | The first guider image |
| SLITID1 | 3 | Normalized slithead ID. sp1&2 should match. |
| SLITID2 | 3 | Normalized slithead ID. sp1&2 should match. |
| GUIDERN | proc-gimg-0364.fits.gz | The last guider image |
| COLLA | 3880 | The position of the A collimator motor |
| COLLB | 3980 | The position of the B collimator motor |
| COLLC | 3931 | The position of the C collimator motor |
| HARTMANN | Out | Hartmanns: Left,Right,Out |
| MC1HUMHT | 15.4 | sp1 mech Hartmann humidity, % |
| MC1HUMCO | 16.6 | sp1 mech Central optics humidity, % |
| MC1TEMDN | 5.5 | sp1 mech Median temp, C |
| MC1THT | 5.5 | sp1 mech Hartmann Top Temp, C |
| MC1TRCB | 5.2 | sp1 mech Red Cam Bottom Temp, C |
| MC1TRCT | 5.9 | sp1 mech Red Cam Top Temp, C |
| MC1TBCB | 5.3 | sp1 mech Blue Cam Bottom Temp, C |
| MC1TBCT | 5.5 | sp1 mech Blue Cam Top Temp, C |
| REQTIME | 4.0 | requested exposure time |
| EXPTIME | 4.08 | measured exposure time, s |
| SHOPETIM | 0.77 | open shutter transit time, s |
| SHCLOTIM | 0.57 | close shutter transit time, s |
| DARKTIME | 16.15206289291382 | time between flush end and readout start |
| LN2TEMP | 90.625 |  |
| CCDTEMP | -100.0 |  |
| IONPUMP | -6.64 |  |
| CAMROW | 0 |  |
| CAMCOL | 1 |  |
| AUTHOR | Brian Cherinka & David Law <bcherinka@stsci.edu, dlaw@stsci.edu> |  |
| VERSDRP2 | v3_1_1 | MaNGA DRP Version (2d processing) |
| VERSPLDS | v5_1 | Platedesign Version |
| VERSFLAT | v1_33 | Specflat Version |
| VERSCORE | v1_9_1 | MaNGAcore Version |
| VERSPRIM | v2_9 | MaNGA Preimaging Version |
| VERSUTIL | v5_5_36 | Version of idlutils |
| VERSIDL | x86_64 linux unix linux 7.1.1 Aug 21 2009 64 64 | Version of IDL |
| TWOPHASE | False |  |
| QUALITY | excellent |  |
| RDNOISE0 | 2.03495 | CCD read noise amp 0 [electrons] |
| RDNOISE1 | 1.93573 | CCD read noise amp 1 [electrons] |
| RDNOISE2 | 1.89343 | CCD read noise amp 2 [electrons] |
| RDNOISE3 | 1.87174 | CCD read noise amp 3 [electrons] |
| BIASRMS0 | 0.260773 | CCD bias row rms amp 0 [electrons] |
| BIASRMS1 | 0.244916 | CCD bias row rms amp 1 [electrons] |
| BIASRMS2 | 0.24476 | CCD bias row rms amp 2 [electrons] |
| BIASRMS3 | 0.260702 | CCD bias row rms amp 3 [electrons] |
| PIXFLAT | pixflatave-56690-b1.fits.gz |  |
| BADPIXEL | badpixels-56149-b1.fits.gz |  |
| DRP2QUAL | 0 | DRP-2d quality bitmask |
| FBADPIX | 0.000389366 | Fraction of bad pixels in raw image |
| BESTCORR | 0.780663 | Best Correlation coefficient |
| DATASUM | 0 | data unit checksum updated 2020-11-27T16:27:60 |
| CHECKSUM | Bgd5EZZ3Bfb3BZZ3 | HDU checksum updated 2020-11-27T16:27:60 |



### HDU1: FLUX
Extracted flux from the arc image [CCDROW x NFIBER].

#### HDU Type: IMAGE
#### HDU Size:  11 MB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 4112 |  |
| NAXIS2 | 709 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| EXTNAME | FLUX |  |
| DATASUM | 230460790 | data unit checksum updated 2020-11-27T16:27:60 |
| CHECKSUM | Vfh6Ych3Vch3Vch3 | HDU checksum updated 2020-11-27T16:27:60 |



### HDU2: LXPEAK
Wavelength and x positions of good arc lamp lines. The first element in COLUMN contains the wavelengths for each lamp line, the remaining NFIBER contains the lamp line positions along the CCD [NFIBER+1 x NLAMP]

#### HDU Type: IMAGE
#### HDU Size:  155 KB

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -64 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 710 |  |
| NAXIS2 | 28 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| EXTNAME | LXPEAK |  |
| DATASUM | 3562060061 | data unit checksum updated 2020-11-27T16:27:60 |
| CHECKSUM | geC6gZC5gbC5gZC5 | HDU checksum updated 2020-11-27T16:27:60 |



### HDU3: WSET
Wavelength solution as Legendre polynomials for all fibers.

#### HDU Type: BINARY TABLE
#### HDU Size:  33 KB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Written by IDL:  Fri Nov 27 09:27:59 2020 |
| BITPIX | 8 |  |
| NAXIS | 2 | Binary table |
| NAXIS1 | 34056 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Random parameter count |
| GCOUNT | 1 | Group count |
| TFIELDS | 4 | Number of columns |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| EXTNAME | WSET |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column dimensions (2 D or greater) *** |  |
| COMMENT |  |  |
| TDIM4 | ( 6, 709) |  |

##### Binary Table Caption for HDU3
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FUNC | char[8] |  | describes the function used to fit the wavelength solutions (units of log-10 Angstroms) and Y-positions to a functional form. Chebyshev or Legendre functions are used. Default value is taken as Legendre function. |
 | XMIN | float64 |  | minimum value of the independent variable used by fitting function. |
 | XMAX | float64 |  | maximum value of the independent variable which is used along with the fitting coeff |
 | COEFF | float64[4254] |  | fit coefficents |



### HDU4: MASK
Fiber bit mask [NFIBER]

#### HDU Type: IMAGE
#### HDU Size:  709 bytes

##### Header Table Caption for HDU4
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | 8 | Number of bits per data pixel |
| NAXIS | 1 | Number of data axes |
| NAXIS1 | 709 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| EXTNAME | MASK |  |
| DATASUM | 50463744 | data unit checksum updated 2020-11-27T16:27:60 |
| CHECKSUM | JTinLRfmJRfmJRfm | HDU checksum updated 2020-11-27T16:27:60 |



### HDU5: LSFPOSTSET
1sigma post-pixellized LSF in pixels as Legendre polynomial traceset

#### HDU Type: BINARY TABLE
#### HDU Size:  27 KB

##### Header Table Caption for HDU5
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Written by IDL:  Fri Nov 27 09:27:59 2020 |
| BITPIX | 8 |  |
| NAXIS | 2 | Binary table |
| NAXIS1 | 28384 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Random parameter count |
| GCOUNT | 1 | Group count |
| TFIELDS | 4 | Number of columns |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| EXTNAME | LSFPOSTSET |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column dimensions (2 D or greater) *** |  |
| COMMENT |  |  |
| TDIM4 | ( 5, 709) |  |

##### Binary Table Caption for HDU5
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FUNC | char[8] |  | describes the function used to fit the line width (units of pixels) and Y-positions to a functional form. Chebyshev or Legendre functions are used. Default value is taken as Legendre function. |
 | XMIN | float64 |  | minimum value of the independent variable used by fitting function. |
 | XMAX | float64 |  | maximum value of the independent variable which is used along with the fitting coeff |
 | COEFF | float64[2836] |  | fitting coeffiecients |



### HDU6: LSFPRESET
1sigma pre-pixellized LSF in pixels as Legendre polynomial traceset

#### HDU Type: BINARY TABLE
#### HDU Size:  27 KB

##### Header Table Caption for HDU6
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Written by IDL:  Fri Nov 27 09:27:59 2020 |
| BITPIX | 8 |  |
| NAXIS | 2 | Binary table |
| NAXIS1 | 28384 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Random parameter count |
| GCOUNT | 1 | Group count |
| TFIELDS | 4 | Number of columns |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| EXTNAME | LSFPRESET |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column dimensions (2 D or greater) *** |  |
| COMMENT |  |  |
| TDIM4 | ( 5, 709) |  |

##### Binary Table Caption for HDU6
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FUNC | char[8] |  | describes the function used to fit the line width (units of pixels) and Y-positions to a functional form. Chebyshev or Legendre functions are used. Default value is taken as Legendre function. |
 | XMIN | float64 |  | minimum value of the independent variable used by fitting function. |
 | XMAX | float64 |  | maximum value of the independent variable which is used along with the fitting coeff |
 | COEFF | float64[2836] |  | fitting coeffiecients |



---
## Notes
None

---
## Regrets
I  have no regrets!