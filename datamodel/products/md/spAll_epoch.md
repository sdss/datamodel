# Data Model: spAll_epoch


Summary spectroscopic information for the BOSS spectrograph data Field Epoch Coadds


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)
- [Notes](#notes)
- [Regrets](#regrets)
---

## Basic Information
This file contains a summary of the BOSS idlspec2d and spectro-1d pipeline outputs every field-mjd-target with detailed per exposure metadata for the field epoch coadds

### Naming Convention
$BOSS_SPECTRO_REDUX/[RUN2D]/summary/epoch/spAll-[RUN2D]-epoch.fits.gz

### Releases
IPL3, DR19, IPL4

### Enviroments
BOSS_SPECTRO_REDUX

### Approximate Size
1 GB

### File Type
FITS

### Generated by Product
idlspec2d

### Is a VAC
False

### Data Level
2.3.1

### HDUS List for release DR19
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: SPALL](#hdu1-spall)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - IPL4
   - from: DR19
   - note: No changes
 - DR19
   - from: IPL3
   - note: No changes

---
## Example HDUS List

### HDU0: PRIMARY


#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 8 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| RUN2D | v6_1_3 | IDLSPEC2D RUN2D |
| DATE | Wed May 29 00:57:41 2024 | Date Created |
| SDSSC2BV | 1 | SDSS5_TARGET_FLAG Carton to Bit Version |
| CHECKSUM | ZAZiZ2YZZ9YfZ9YZ | HDU checksum updated 2024-05-29T01:00:07 |
| DATASUM | 0 | data unit checksum updated 2024-05-29T01:00:07 |



### HDU1: SPALL
Spectral Summary Table

#### HDU Type: BINARY TABLE
#### HDU Size:  14 GB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 4678 | length of dimension 1 |
| NAXIS2 | 3331623 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 144 | number of table fields |
| TNULL1 | 0 |  |
| TNULL2 | 0 |  |
| TNULL11 | 0 |  |
| TNULL13 | -1 |  |
| TDIM21 | (57) |  |
| TNULL23 | -999 |  |
| TNULL24 | -999 |  |
| TNULL25 | -999 |  |
| TNULL26 | -999 |  |
| TNULL27 | -1 |  |
| TNULL36 | 0 |  |
| TNULL39 | 0 |  |
| TNULL59 | -999 |  |
| TNULL64 | -999 |  |
| TNULL65 | -999 |  |
| TNULL66 | -999 |  |
| TNULL92 | 0 |  |
| TNULL93 | 0 |  |
| TNULL94 | 0 |  |
| TNULL95 | 0 |  |
| TNULL96 | 0 |  |
| TNULL97 | 0 |  |
| TNULL110 | -999 |  |
| TNULL112 | -999 |  |
| TNULL115 | -1 |  |
| TNULL116 | -1 |  |
| TNULL124 | -1 |  |
| TNULL131 | 0 |  |
| TNULL132 | 0 |  |
| EXTNAME | SPALL | extension name |
| CHECKSUM | 8cei9bZZ8bdf8bZZ | HDU checksum updated 2024-05-29T01:05:03 |
| DATASUM | 182938604 | data unit checksum updated 2024-05-29T01:05:03 |

##### Binary Table Caption for HDU1
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FIELD | int64 |  | SDSS FieldID (plateID for plate era data) |
 | MJD | int64 |  | Modified Julian date of combined Spectra |
 | OBS | char[3] |  | Observatory of Observation |
 | MJD_FINAL | float64 |  | Mean MJD of the Coadded Spectra |
 | MJD_LIST | char[173] |  | List of MJD of each included exposures |
 | TAI_LIST | char[318] |  | List Tai for each exposure (at midpoint) |
 | RUN2D | char[6] |  | Spectro-2D reduction name |
 | RUN1D | char[6] |  | Spectro-1D reduction name |
 | DESIGNS | char[139] |  | List of Included Designs |
 | CONFIGS | char[173] |  | List of Included Configurations |
 | NEXP | int16 |  | Number of Included Exposures |
 | EXPTIME | float32 | s | Total Exposure time of Coadded Spectra |
 | TARGET_INDEX | int64 |  | Index of target on combined spField |
 | FIBERID_LIST | char[115] |  | List of FiberIDs contributing to Stack |
 | SPEC_FILE | char[42] |  | Name of spec file (in SAS) |
 | PROGRAMNAME | char[14] |  | Program name within a given survey |
 | SURVEY | char[13] |  | Survey that field is part of |
 | CADENCE | char[19] |  | Requested Target Cadence |
 | FIRSTCARTON | char[48] |  | Primary SDSS Carton for target |
 | CARTON_TO_TARGET_PK | char[32] |  | SDSS-V CartonToTarget DB Table Primary Key |
 | SDSS5_TARGET_FLAGS | bool[57] |  | Targeting Flags for SSDSV Targeting |
 | OBJTYPE | char[16] |  | Why this object was targetargetedtted.  Note that if this field says QSO, it could be the case that this object would have been targeted as a GALAXY or any number of other categories as well. The PRIMTARGET and SECTARGET flags in the plug-map structure (in the spField file) gives this full information. |
 | CATALOGID | int64 |  | SDSS-V CatalogID used in naming |
 | CATALOGID_V0 | int64 |  | SDSS-V CatalogID from Catalog v0 |
 | CATALOGID_V0P5 | int64 |  | SDSS-V CatalogID from Catalog v0.5 |
 | SDSS_ID | int64 |  | Unified SDSS Target Identifier |
 | SPECOBJID | char[30] |  | Unique ID based on Field, MJD, SDSSID, RUN2D, COADD type |
 | CALIBFLUX | float32[5] | nanomaggy | Broad-band flux in SDSS-{ugriz} from PSFmag |
 | CALIBFLUX_IVAR | float32[5] | nanomaggy | Inverse var flux SDSS-{ugriz} from PSFmag |
 | OPTICAL_PROV | char[26] |  | The source of the optical CATDB_MAG magnitudes |
 | MAG | float32[5] |  | [u, g, r, i, z] optical magnitudes |
 | PSFMAG | float32[5] |  | [u, g, r, i, z] optical PSF magnitudes |
 | FIBER2MAG | float32[5] |  | [u, g, r, i, z] optical Fiber2 magnitudes |
 | CATDB_MAG | float32[5] |  | [u, g, r, i, z] Raw TargetDB magnitudes |
 | GAIA_G_MAG | float32 |  | Gaia G magnitude |
 | GRI_GAIA_TRANSFORM | int64 |  | provenance of photometry in SDSS-V plate design |
 | BP_MAG | float32 |  | Gaia BP magnitude |
 | RP_MAG | float32 |  | Gaia RP magnitude |
 | GAIA_ID | int64 |  | Gaia DR2 SourceID |
 | WISE_MAG | float32[4] |  | WISE [W1, W2, W3, W4] band magnitudes |
 | TWOMASS_MAG | float32[3] |  | 2MASS [J, H, Ks] band magnitudes |
 | GUVCAT_MAG | float32[2] |  | GALEX [FUV, NUV] band magnitudes |
 | EBV | float32 |  | dust extinction |
 | EBV_TYPE | char[14] |  | Source of dust extinction |
 | FIBER_RA | float64 | degrees | Fiber RA [J2000 for plate; at exp for FPS] |
 | FIBER_DEC | float64 | degrees | Fiber DEC [J2000 for plate; at exp for FPS] |
 | PLUG_RA | float64 | degrees | Object RA (drilled fiber position) [J2000] |
 | PLUG_DEC | float64 | degrees | Object DEC (drilled fiber position) [J2000] |
 | RACAT | float64 | degrees | Catalog RA in ICRS coordinates at coord_epoch |
 | DECCAT | float64 | degrees | Catalog DEC in ICRS coordinates at coord_epoch |
 | COORD_EPOCH | float32 |  | Epoch of the RACAT/DECCAT Catalog coordinates. |
 | PMRA | float32 | mas/year | Proper motion in RA (pmra is a true angle) |
 | PMDEC | float32 | mas/year | Proper motion in Dec |
 | PARALLAX | float32 | mas | Parallax |
 | RA_LIST | char[318] | degrees | List of measured RA per exposure |
 | DEC_LIST | char[289] | degrees | List of measured DEC per exposure |
 | DELTA_RA_LIST | char[115] | arcsec | List of designed RA offsets per exposure |
 | DELTA_DEC_LIST | char[115] | arcsec | List of designed DEC offsets per exposure |
 | FIBER_OFFSET | int64 |  | Flag identifying the fiber was offset by design |
 | XFOCAL | char[260] | mm | Hole/robot x-axis position in focal plane |
 | YFOCAL | char[260] | mm | Hole/robot y-axis position in focal plane |
 | ZOFFSET | float32 | microns | Backstopping offset distance |
 | LAMBDA_EFF | float32 | AA | Wavelength to optimize hole location for |
 | BLUEFIBER | int64 |  | 1 if assigned target a blue fiber; 0 otherwise |
 | HEALPIX | int64 |  | healpix pixel number of the RACAT and DECCAT coordinates, computed with healpix nside=128 |
 | HEALPIXGRP | int64 |  | Rounded-down integer value of healpix / 1000 |
 | HEALPIX_PATH | char[70] |  | Path to spec fits file in SAS healpix structure |
 | FIELDQUALITY | char[4] |  | Characterization of field quality |
 | EXP_DISP_MED | float64 |  | Dispersion of Median Exposure Flux |
 | FIELDSN2 | float32 |  | Overall (S/N)^2 for field; min of cameras |
 | FIELDSNR2G_LIST | char[144] |  | Overall Field (S/N)^2 in g per exposure |
 | FIELDSNR2R_LIST | char[152] |  | Overall Field (S/N)^2 in r per exposure |
 | FIELDSNR2I_LIST | char[157] |  | Overall Field (S/N)^2 in i per exposure |
 | SPEC1_G | float32 |  | Fit (S/N)^2 at g=20.20 for spectrograph 1 (same value for 500 fibers) |
 | SPEC1_R | float32 |  | Fit (S/N)^2 at r=20.25 for spectrograph 1 (same value for 500 fibers) |
 | SPEC1_I | float32 |  | Fit (S/N)^2 at i=19.90 for spectrograph 1 (same value for 500 fibers) |
 | SPEC2_G | float32 |  | Fit (S/N)^2 at g=20.20 for spectrograph 2 (same value for 500 fibers) |
 | SPEC2_R | float32 |  | Fit (S/N)^2 at r=20.25 for spectrograph 2 (same value for 500 fibers) |
 | SPEC2_I | float32 |  | Fit (S/N)^2 at i=19.90 for spectrograph 2 (same value for 500 fibers) |
 | SN_MEDIAN | float32[5] |  | Median S/N for all good pixels in SDSS-{ugriz} |
 | SN_MEDIAN_ALL | float32 |  | Median S/N for all good pixels in all filters |
 | AIRMASS | float32 |  | Airmass at time of observation |
 | SEEING20 | float32 | arcsecs | Mean 20% seeing during exposures (arcsec) |
 | SEEING50 | float32 | arcsecs | Mean 50% seeing during exposures (arcsec) |
 | SEEING80 | float32 | arcsecs | Mean 80% seeing during exposures (arcsec) |
 | MOON_DIST | char[144] | degrees | Mean Moon-target separation of Coadded Spectra |
 | MOON_PHASE | char[144] |  | Mean Moon phase of the Coadded Spectra |
 | ASSIGNED | char[57] |  | Whether this fibre was assigned to a target |
 | ON_TARGET | char[57] |  | Whether this fibre is on target |
 | VALID | char[57] |  | alpha and beta angles are valid |
 | DECOLLIDED | char[57] |  | this positioner had to be moved to decollide it |
 | ANYANDMASK | int64 |  | For each bit, records whether any pixel in the spectrum has that bit set in its ANDMASK |
 | ANYORMASK | int64 |  | For each bit, records whether any pixel in the spectrum has that bit set in its ORMASK |
 | SPECPRIMARY | int64 |  | Objects observed multiple times will have this set to 1 for one observation only. This is usually the 'best' observation, as defined by critera listed in fieldmerge.py. |
 | SPECBOSS | int64 |  | Best version of spectrum at this location |
 | BOSS_SPECOBJ_ID | int64 |  | ID of spectrum location on sky |
 | NSPECOBS | int64 |  | Number of spectral observations |
 | SPECTROFLUX | float32[5] |  | Spectrum projected onto SDSS-{ugriz} filter |
 | SPECTROFLUX_IVAR | float32[5] |  | Inverse variance of SPECTROFLUX_{ugriz} |
 | SPECTROSYNFLUX | float32[5] |  | Best-fit template projected onto SDSS-{ugriz} |
 | SPECTROSYNFLUX_IVAR | float32[5] |  | Inverse variance of SPECTROSYNFLUX_{ugriz} |
 | SPECTROSKYFLUX | float32[5] |  | Sky spectrum projected onto SDSS-{ugriz} filter |
 | WAVEMIN | float32 | AA | Minimum observed (vacuum) wavelength for target |
 | WAVEMAX | float32 | AA | Maximum observed (vacuum) wavelength for target |
 | WCOVERAGE | float32 | log10(AA) | Amount of wavelength coverage in log-10(Angs) |
 | CLASS | char[6] |  | Spectro classification: GALAXY, QSO, STAR |
 | SUBCLASS | char[21] |  | Spectro sub-classification |
 | Z | float32 |  | Redshift; incorrect for nonzero ZWARNING flag |
 | Z_ERR | float32 |  | z error from chi^2 min; negative is invalid fit |
 | ZWARNING | int64 |  | A flag for bad z fits in place of CLASS=UNKNOWN |
 | RCHI2 | float32 |  | Reduced chi^2 for best fit |
 | DOF | int64 |  | Degrees of freedom for best fit |
 | RCHI2DIFF | float32 |  | Diff in reduced chi^2 of 2 best solutions |
 | TFILE | char[24] |  | Template file in $IDLSPEC2D_DIR/templates |
 | TCOLUMN | int64[10] |  | Column to use in template file (0-indexed); unused value set to -1 |
 | NPOLY | int64 |  | # of polynomial terms with TFILE |
 | THETA | float32[10] |  | Eigenvalue coeff for template file + polynomial |
 | VDISP | float32 | km/s | Velocity dispersion, only computed for galaxies |
 | VDISP_ERR | float32 | km/s | Error in VDISP; negative for invalid fit |
 | VDISPZ | float32 |  | Redshift for best-fit velocity dispersion |
 | VDISPZ_ERR | float32 |  | Error in VDISPZ |
 | VDISPCHI2 | float32 |  | Chi^2 for best-fit velocity dispersion |
 | VDISPNPIX | float32 |  | Num of pixels overlapping VDISP fit templates |
 | VDISPDOF | int64 |  | Degrees of freedom for best-fit velocity dispersion, equal to VDISPNPIX minus the number of templates minus the number of polynomial terms minus 1 (the last 1 is for the velocity dispersion) |
 | CHI68P | float32 |  | 68% of abs(chi) of synthetic to actual spectrum |
 | FRACNSIGMA | float32[10] |  | Fraction of pixels low by >{1-10} sigma (igorning all points blueward of rest-frame 1216 Ang) |
 | FRACNSIGHI | float32[10] |  | Fraction of pixels high by >{1-10} sigma (igorning all points blueward of rest-frame 1216 Ang) |
 | FRACNSIGLO | float32[10] |  | Fraction of pixels low by >{1-10} sigma (igorning all points blueward of rest-frame 1216 Ang) |
 | Z_NOQSO | float32 |  | Redshift of the best-fit non-QSO model (recommended for CMASS and LOZ) |
 | Z_ERR_NOQSO | float32 |  | Formal one-sigma error on Z_NOQSO (recommended for CMASS and LOZ) |
 | ZNUM_NOQSO | int64 |  | Best fit z/class index excluding QSO; 1-indexed (recommended for CMASS and LOZ) |
 | ZWARNING_NOQSO | int64 |  | Redshift warning flag for Z_NOQSO (recommended for CMASS and LOZ) |
 | CLASS_NOQSO | char[6] |  | Spectro class of best-fit non-QSO model (recommended for CMASS and LOZ) |
 | SUBCLASS_NOQSO | char[21] |  | Spectro sub-class of best-fit non-QSO model (recommended for CMASS and LOZ) |
 | RCHI2DIFF_NOQSO | float32 |  | Reduced chi^2 diff to next-best non-QSO model (recommended for CMASS and LOZ) |
 | XCSAO_RV | float32 | km/s | Radial velocity measured with pyXCSAO |
 | XCSAO_ERV | float32 | km/s | Uncertainty in Radial velocity |
 | XCSAO_RXC | float32 |  | Cross correlation strength from pyXCSAO |
 | XCSAO_TEFF | float32 | K | Interpolated temperature from pyXCSAO |
 | XCSAO_ETEFF | float32 | K | Uncertainty in Interpolated temperature |
 | XCSAO_LOGG | float32 | cm/s^2 | Interpolated surface gravity from pyXCSAO |
 | XCSAO_ELOGG | float32 | cm/s^2 | Uncertainty in Interpolated surface gravity |
 | XCSAO_FEH | float32 | solar | Interpolated metallicity from pyXCSAO |
 | XCSAO_EFEH | float32 | solar | Uncertainty in interpolated metallicity |



---
## Notes
None

---
## Regrets
I have no regrets!