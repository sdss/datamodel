# Data Model: apWave


migrated from old datamodel - needs update


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDU List](#example-hdu-list)


---

## Basic Information
apWave contains calibration data relating to the wavelength calibration.
For each fiber, 12 wavelength calibration coefficients relate the pixel
number to the wavelength.

### Naming Convention
apWave-[abc]-MJD5.fits

### Releases
DR10, DR12, DR11, DR13, DR14, DR15, DR16, WORK

### Enviroments
APOGEE_REDUX

### Approximate Size
4 MB

### File Type
FITS

### Generated by Product
migration: not in database. Needs update

### HDU List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: ](#hdu1-)
  - [HDU2: ](#hdu2-)
  - [HDU3: ](#hdu3-)
  - [HDU4: ](#hdu4-)
  - [HDU5: ](#hdu5-)
  - [HDU6: ](#hdu6-)


---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: DR16
   - primary_delta_nkeys: 1
 - DR16
   - from: DR15
   - primary_delta_nkeys: 150
   - added_primary_header_kwargs: ['MEDSIG', 'NGROUP', 'NPOLY', 'MEDRMS', 'FRAME0', 'FRAME1']
   - removed_primary_header_kwargs: ['OBJOFFY', 'LAMPSHTR', 'TRADSHLD', 'GUIDOFFY', 'M1YTILT', 'BEGX', 'AZ', 'IMAGETYP', 'CALOFFR', 'GUIDOFFR', 'DATE-OBS', 'M2XTRAN', 'NAME', 'COLLM1', 'TEMPVPH', 'TCOLLIM', 'DITHPIX', 'CARTID', 'FILTER1', 'LN2CNTRL', 'CHIP', 'DEC', 'TDETTOP', 'BOREOFFY', 'TCAMMID', 'TIMESYS', 'TPGVAC', 'ACAMREV', 'M1XTILT', 'M2PISTON', 'INTOFF', 'LAMPQRTZ', 'COLLYAW', 'ROTPOS', 'POINTING', 'M2YTRAN', 'MKSVAC', 'PSFFILE', 'UT-MID', 'HISTORY', 'OBSCMNT', 'TGETTER', 'TLSDETC', 'SEEING', 'BOREOFFX', 'ARCOFFY', 'IPA', 'PLATEID', 'EXPTYPE', 'TDETBASE', 'M2YTILT', 'TCLDPMID', 'M1PISTON', 'CALOFFY', 'BINY', 'TLSCAM1', 'COLLPIST', 'COLPITCH', 'TCPCORN', 'JD-MID', 'NREAD', 'FFS', 'FULLY', 'TCAMAFT', 'TLNORTH', 'LN2LEVEL', 'TLSCAM2', 'FULLX', 'DECDEG', 'TELESCOP', 'FF', 'DSPFILE', 'RA', 'M1YTRAN', 'TLSOUTH', 'M1XTRAN', 'ALT', 'OBJSYS', 'BINX', 'OBJECT', 'BEGY', 'LKSHPWR', 'LAMPTHAR', 'TTENTTOP', 'COLLM3', 'M2XTILT', 'TLSDETB', 'MAPID', 'CALOFFX', 'RADEG', 'HGCD', 'ARCOFFX', 'EXPTIME', 'TCAMFWD', 'RELHUM', 'COLLM2', 'V_APRED', 'TCLDPHNG', 'SCALE', 'NE', 'GUIDOFFX', 'EXTRTYPE', 'LAMPCNTL', 'INTDELAY', 'TTLMBRD', 'FILENAME', 'LAMPUNE', 'LAMPFIL1', 'OBJOFFX', 'FOCUS']
 - DR15
   - from: DR14
   - note: No changes
 - DR14
   - from: DR13
   - primary_delta_nkeys: 2
 - DR13
   - from: DR11
   - primary_delta_nkeys: 2
   - removed_primary_header_kwargs: ['LAMPFIL2', 'CHECKSUM']
 - DR11
   - from: DR12
   - primary_delta_nkeys: 3
   - added_primary_header_kwargs: ['LAMPFIL2']
 - DR12
   - from: DR10
   - primary_delta_nkeys: 5
   - removed_primary_header_kwargs: ['DATASUM']

---
## Example HDU List


### HDU0: PRIMARY
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 8 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| NFRAMES | 2 | migration: description of keyword/column not found. Needs update |
| FRAME0 | 2390007 | migration: description of keyword/column not found. Needs update |
| FRAME1 | 2390008 | migration: description of keyword/column not found. Needs update |
| NPOLY | 4 | migration: description of keyword/column not found. Needs update |
| NGROUP | 1 | migration: description of keyword/column not found. Needs update |
| MEDRMS | 0.0 | migration: description of keyword/column not found. Needs update |
| MEDSIG | 0.0 | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#1 : wavelength calibration parameters [14,300] | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#2 : wavelength calibration array [300,2048] | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#3 : wavecal fit parameter array [npoly+3*ngroup,300] | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#4 : rms from fit [300,ngroup] | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#5 : sig from fit [300,ngroup] | migration: description of keyword/column not found. Needs update |
| COMMENT | HDU#3 : wavecal fit parameter array [npoly+3*ngroup,300] | migration: description of keyword/column not found. Needs update |
| COMMENT | APOGEE_VER:0.17.14 | migration: description of keyword/column not found. Needs update |



### HDU1: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  32 KB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 300 | length of dimension 1 |
| NAXIS2 | 14 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU2: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  4 MB

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| NAXIS2 | 300 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU3: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  16 KB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 300 | length of dimension 1 |
| NAXIS2 | 7 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU4: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  2 KB

##### Header Table Caption for HDU4
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 1 | length of dimension 1 |
| NAXIS2 | 300 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU5: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  2 KB

##### Header Table Caption for HDU5
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 1 | length of dimension 1 |
| NAXIS2 | 300 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU6: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  16 KB

##### Header Table Caption for HDU6
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -64 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 300 | length of dimension 1 |
| NAXIS2 | 7 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |


