# Data Model: apCframe





## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)
- [Notes](#notes)
- [Regrets](#regrets)
---

## Basic Information
apCframe provide "corrected" frames for each exposure for each chip. The corrected frames have modified wavelength solutions determined from the sky lines (zero point shift), sky subtraction, and telluric correction.

### Naming Convention
$APOGEE_REDUX/[APRED]/visit/[TELESCOPE]/[FIELD]/[PLATE]/[MJD]/apCframe-[CHIP]-[NUM8].fits

### Releases
DR19, WORK

### Enviroments
APOGEE_REDUX

### Approximate Size
20 MB

### File Type
FITS

### Generated by Product
apogee_drp

### Is a VAC
False

### HDUS List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: FLUX](#hdu1-flux)
  - [HDU2: ERROR](#hdu2-error)
  - [HDU3: MASK](#hdu3-mask)
  - [HDU4: WAVELENGTH](#hdu4-wavelength)
  - [HDU5: SKY FLUX](#hdu5-sky flux)
  - [HDU6: SKY ERROR](#hdu6-sky error)
  - [HDU7: TELLURIC](#hdu7-telluric)
  - [HDU8: TELLURIC ERORR](#hdu8-telluric erorr)
  - [HDU9: WAVE COEFFICIENTS](#hdu9-wave coefficients)
  - [HDU10: LSF COEFFICIENTS](#hdu10-lsf coefficients)
  - [HDU11](#hdu11)
  - [HDU12](#hdu12)
  - [HDU13](#hdu13)
  - [HDU14](#hdu14)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: DR19
   - note: No changes

---
## Example HDUS List

### HDU0: PRIMARY
Exposure/detector information in primary HDU

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | image conforms to FITS standard |
| BITPIX | 16 | bits per data value |
| NAXIS | 0 | number of axes |
| EXTEND | True | file may contain extensions |
| INTDELAY | 0.1 | Integration Delay(S) |
| DATE-OBS | 2021-12-20T09:01:21.815 | Date at start of integration |
| TIMESYS | UTC | Time Zone of Date |
| NFRAMES | 30 | Num of SUTR/Fow reads |
| INTOFF | 10647 | Single read duration in mSec |
| EXPTIME | 319.51000000000005 | Actual Integration Time |
| FILENAME | /data/apogee/raw/59568/apRaw-40060025-001.fits | Fits file name root |
| IMAGETYP | Object | Object type for EXP |
| FULLX | 8192 | Camera Full Frame X DIM |
| FULLY | 2048 | Camera Full Frame X DIM |
| BEGX | 1 | IRAF 1-indexed Value |
| BEGY | 1 | IRAF 1-indexed Value |
| BINX | 1 | in pixels |
| BINY | 1 | in pixels |
| ACAMREV | UVA-Astrocam v1.2r55 | Camera Software revision |
| OBSCMNT | None | Observer comment |
| LKSHPWR | 0.0 | LS-PWR1-% |
| TDETTOP | 75.217 | T_DETPOLE_TOP in Degrees K |
| TDETBASE | 74.922 | T_DETPOLE_BASE in Degrees K |
| COLPITCH | 213.5 | Collimator Pitch(pix) |
| TTENTTOP | 83.529 | T_TENT_TOP in Degrees K |
| COLLM3 | 0.0 | Collimator M3(um) |
| TCLDPMID | 78.302 | T_CP_MIDDLE in Degrees K |
| COLLM2 | 0.0 | Collimator M2(um) |
| COLLM1 | 3416.002 | Collimator M1(um) |
| TGETTER | 76.41 | T_GETTER in Degrees K |
| TTLMBRD | 294.82 | T_TempBrd in Degrees K |
| TLSOUTH | 76.571 | T_L_SOUTH in Degrees K |
| TLNORTH | 77.147 | T_L_NORTH in Degrees K |
| TLSCAM2 | 79.58 | T_LS-Camera2 in Degrees K |
| TLSCAM1 | 79.567 | T_LS-Camera1 in Degrees K |
| TLSDETC | 75.271 | T_LS-DetectorC in Degrees K |
| TLSDETB | 74.299 | T_LS-DetectorB in Degrees K |
| TPGVAC | 4.35e-07 | Pfeiffer-Vacuum in Torr |
| LN2CNTRL | 0.0 | LN2(%) |
| TCAMAFT | 78.144 | T_CAM_AFT in Degrees K |
| TCAMMID | 79.095 | T_CAM_MIDDLE in Degrees K |
| COLLYAW | 427.0 | Collimator Yaw(pix) |
| TCAMFWD | 79.089 | T_CAM_FWD in Degrees K |
| TEMPVPH | 78.381 | T_VPH in Degrees K |
| TRADSHLD | 88.983 | T_RADSHIELD_E in Degrees K |
| TCOLLIM | 81.244 | T_COLLIMATOR in Degrees K |
| TCPCORN | 80.5 | T_CP_CORNER in Degrees K |
| TCLDPHNG | 80.08 | T_CP_HANGERS in Degrees K |
| COLLPIST | 854.001 | Collimator Piston(um) |
| DITHPIX | 12.994 | Dither Position(pix) |
| RELHUM | 11.542 | RH_T(%) |
| LN2LEVEL | 88.114 | LN2_T(%) |
| MKSVAC | 3.9686e-07 | MKS-Vacuum in Torr |
| OBJECT | ObjName |  |
| FILTER1 | FILTER |  |
| ICSREV | APOGEE ICS2.0r033 |  |
| DSPFILE | UNKNOWN |  |
| TELESCOP | SDSS 2-5m |  |
| EXPTYPE | OBJECT |  |
| LAMPQRTZ | False | CalBox Quartz Lamp Status |
| LAMPUNE | False | CalBox UNe Lamp Status |
| LAMPTHAR | False | CalBox ThArNe Lamp Status |
| LAMPSHTR | False | CalBox Shutter Lamp Status |
| LAMPCNTL | True | CalBox Controller Status |
| SEEING | 0.0 | RMS seeing from guide fibers |
| FF | 0 0 0 0 | FF lamps 1:on 0:0ff |
| NE | 0 0 0 0 | NE lamps 1:on 0:0ff |
| HGCD | 0 0 0 0 | HGCD lamps 1:on 0:0ff |
| FFS | 0 0 0 0 0 0 0 0 | Flatfield Screen 1:closed 0:open |
| OBJSYS | ICRS | The TCC objSys |
| RA | 119.995885 | RA of telescope boresight (deg) |
| DEC | 59.997418 | Dec of telescope boresight (deg) |
| RADEG | 120.0 | RA of telescope pointing(deg) |
| DECDEG | 60.0 | Dec of telescope pointing (deg) |
| SPA | 177.0226843747187 | TCC SpiderInstAng |
| ROTPOS | 0.0 | Rotator request position (deg) |
| BOREOFFX | 0.0 | TCC Boresight offset, deg |
| BOREOFFY | 0.0 | TCC Boresight offset, deg |
| ARCOFFX | -0.002058 | TCC ObjArcOff, deg |
| ARCOFFY | -0.002582 | TCC ObjArcOff, deg |
| CALOFFX | 0.0 | TCC CalibOff, deg |
| CALOFFY | 0.0 | TCC CalibOff, deg |
| CALOFFR | 0.0 | TCC CalibOff, deg |
| GUIDOFFX | 0.0 | TCC GuideOff, deg |
| GUIDOFFY | 0.0 | TCC GuideOff, deg |
| GUIDOFFR | 0.024972 | TCC GuideOff, deg |
| AZ | 177.897548 | Azimuth axis pos. (approx, deg) |
| ALT | 62.862004 | Altitude axis pos. (approx, deg) |
| IPA | -3.656204 | Rotator axis pos. (approx, deg) |
| FOCUS | 175.0 | User-specified focus offset (um) |
| M2PISTON | 3920.55 | TCC SecOrient |
| M2XTILT | -0.04 | TCC SecOrient |
| M2YTILT | 0.03 | TCC SecOrient |
| M2XTRAN | 0.02 | TCC SecOrient |
| M2YTRAN | -112.52 | TCC SecOrient |
| M2ZROT | -10.83 | TCC SecOrient |
| M1PISTON | 1.07 | TCC PrimOrient |
| M1XTILT | -59.51 | TCC PrimOrient |
| M1YTILT | -9.21 | TCC PrimOrient |
| M1XTRAN | -512.13 | TCC PrimOrient |
| M1YTRAN | 1906.31 | TCC PrimOrient |
| M1ZROT | 0.03 | TCC PrimOrient |
| SCALE | 1.0 | User-specified scale factor |
| V_GUIDER | 4.0.0 | version of the current guiderActor |
| V_SOP | Unknown | failed to index KeyVar('sop', version=(None,)) |
| NAME | 0000-00000-00 | guider cartridgeKey KeyVar('guider', cartridgeL |
| PLATEID | 0 | The currently loaded plate |
| CARTID | FPS | Using FPS |
| MAPID |  | The mapping version of the loaded plate |
| POINTING | A | The currently specified pointing |
| PLATETYP | sop.survey KeyError: 'survey' | Type of plate (e.g. BOSS, MANGA, A |
| SRVYMODE | sop.survey KeyError: 'survey' | Survey leading this observation an |
| CONFIGID | 441 | FPS configID |
| DESIGNID | 35941 | DesignID |
| FIELDID | 20910 | FieldID |
| CONFIGFL | /home/sdss5/software/sdsscore/main/apo/summary_files/0004XX/confSummary-441.par | config summary file |
| CHIP | c |  |
| NREAD | 30 |  |
| V_APRED | 6fb9549cfadd8e08a69335736a315f1d533830da | APOGEE software version |
| APRED | daily | APOGEE Reduction version |
| LONGSTRN | OGIP 1.0 | The OGIP long string convention may be used. |
| COMMENT | This FITS file may contain long string keyword values that are |  |
| COMMENT | continued over multiple keywords.  This convention uses the  '&' |  |
| COMMENT | character at the end of a string which is then continued |  |
| COMMENT | on subsequent keywords whose name = 'CONTINUE'. |  |
| BPMFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/bpm/apBPM-c-39860002.fits | bpm file |
| DETFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/detector/apDetector-c-13390003.fits | det file |
| DARKFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/darkcorr/apDark-c-39860002.fits | dark fil |
| FLATFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/flatcorr/apFlat-c-39870003.fits | flat fil |
| PERSIST | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/persist/apPersist-c-13400061.fits | persi st mask file |
| HISTORY | AP3D: Sun Apr 10 12:31:48 2022 |  |
| HISTORY | AP3D: u0914350 on notch278 |  |
| HISTORY | AP3D: IDL 8.8.0 linux x86_64 |  |
| HISTORY | AP3D:  APOGEE Reduction Pipeline Version: nidever |  |
| HISTORY | AP3D: Output File: |  |
| HISTORY | AP3D:  HDU1 - image (ADU) |  |
| HISTORY | AP3D:  HDU2 - error (ADU) |  |
| HISTORY | AP3D:  HDU3 - flag mask |  |
| HISTORY | AP3D:         1 - bad pixels |  |
| HISTORY | AP3D:         2 - cosmic ray |  |
| HISTORY | AP3D:         4 - saturated |  |
| HISTORY | AP3D:         8 - unfixable |  |
| HISTORY | AP3D: Global fractional variability = 0.247 |  |
| HISTORY | AP3D: BAD PIXEL MASK file="/uufs/chpc.utah.edu/common/home/sdss50/sdsswo |  |
| HISTORY | AP3D: rk/mwm/apogee/spectro/redux/daily/cal/apogee-n/bpm/apBPM-c-3986000 |  |
| HISTORY | AP3D: DETECTOR file="/uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm |  |
| HISTORY | AP3D: /apogee/spectro/redux/daily/cal/apogee-n/detector/apDetector-c-133 |  |
| HISTORY | AP3D: Dark Current Correction file="/uufs/chpc.utah.edu/common/home/sdss |  |
| HISTORY | AP3D: 50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/darkcorr/a |  |
| HISTORY | AP3D: Flat Field Correction file="/uufs/chpc.utah.edu/common/home/sdss50 |  |
| HISTORY | AP3D: /sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/flatcorr/apF |  |
| HISTORY | AP3D: Persistence mask file="/uufs/chpc.utah.edu/common/home/sdss50/sdss |  |
| HISTORY | AP3D: work/mwm/apogee/spectro/redux/daily/cal/apogee-n/persist/apPersist |  |
| HISTORY | AP3D: 73653 pixels are bad |  |
| HISTORY | AP3D: 291 pixels have cosmic rays |  |
| HISTORY | AP3D: Cosmic Rays FIXED |  |
| HISTORY | AP3D: 59 pixels are saturated |  |
| HISTORY | AP3D: 59 saturated pixels FIXED |  |
| HISTORY | AP3D: 0 pixels are unfixable |  |
| HISTORY | AP3D: UP-THE-RAMP Sampling |  |
| HISTORY | AP2D: Sun Apr 10 12:32:12 2022 |  |
| HISTORY | AP2D: u0914350 on notch278 |  |
| HISTORY | AP2D: Python 3.8.5 Linux 3.10.0-1160.36.2.el7.x86_64 64bit |  |
| HISTORY | AP2D:  APOGEE Reduction Pipeline Version: daily |  |
| HISTORY | AP2D: Output file: |  |
| HISTORY | AP2D:  HDU1 - Image (ADU) |  |
| HISTORY | AP2D:  HDU2 - Error (ADU) |  |
| HISTORY | AP2D:  HDU3 - Flag mask |  |
| HISTORY | AP2D:         0 - good pixels |  |
| HISTORY | AP2D:         1 - bad pixels |  |
| HISTORY | AP2D: Extract_type=4 - Using Empirical PSF Extraction |  |
| HISTORY | AP2D: Flux Calibrating the spectra with: |  |
| HISTORY | AP2D: /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro |  |
| HISTORY | /redux/daily/cal/apogee-n/flux/apFlux-c-40060024.fits |  |
| HISTORY | Added wavelengths from SKYCAL, waveid: 39880000 |  |
| HISTORY | Wavelength shift parameters  1.09709e-04   -0.074   -0.044   -0.036 |  |
| UT-MID | 2021-12-20T09:04:01.6 | Date at midpoint of exposure |
| JD-MID | 2459568.8778 | JD at midpoint of exposure |
| PSFFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/psf/apPSF-c-40050027.fits | PSF file used |
| EXTRTYPE | 4 | Extraction Type |
| FLUXFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/flux/40060024 | Flux Calibration file used |
| WAVEFILE | /uufs/chpc.utah.edu/common/home/sdss50/sdsswork/mwm/apogee/spectro/redux/daily/cal/apogee-n/wave/apWave-39880000.fits | Wavelength Calibration fi |
| WAVEHDU | 5 | Wavelength coef HDU |
| HISTORY | APDITHERSHIFT: Measuring the dither shift |  |
| HISTORY | APDITHERSHIFT: This is the REFERENCE FRAME |  |
| DITHSH | 0.0 | Measured dither shift (pixels) |
| DITHSLOP | 0.0 | Measured dither shift slope (pixels/fiber) |
| EDITHSH | 0.0 | Dither shift error (pixels) |
| HISTORY | APTELLURIC: Fitting tellucic spectrum to 15 Stars (CH4, CO2, H2O) |  |
| HISTORY | APTELLURIC: Fiber=288 Norm=1.0811, 1.0811, 0.2586 |  |
| HISTORY | APTELLURIC: Fiber=285 Norm=0.7144, 1.0910, 0.2883 |  |
| HISTORY | APTELLURIC: Fiber=130 Norm=1.7748, 1.0414, 0.2784 |  |
| HISTORY | APTELLURIC: Fiber=129 Norm=1.0811, 1.1108, 0.3180 |  |
| HISTORY | APTELLURIC: Fiber=126 Norm=2.0126, 1.1009, 0.2784 |  |
| HISTORY | APTELLURIC: Fiber=119 Norm=1.0910, 0.7838, 0.3973 |  |
| HISTORY | APTELLURIC: Fiber=115 Norm=1.1207, 1.0018, 0.3180 |  |
| HISTORY | APTELLURIC: Fiber=114 Norm=0.8234, 1.1108, 0.3577 |  |
| HISTORY | APTELLURIC: Fiber=108 Norm=0.8333, 1.1009, 0.3577 |  |
| HISTORY | APTELLURIC: Fiber=96 Norm=0.8036, 1.1009, 0.2883 |  |
| HISTORY | APTELLURIC: Fiber=69 Norm=0.7640, 1.0117, 0.2685 |  |
| HISTORY | APTELLURIC: Fiber=49 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: Fiber=46 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: Fiber=39 Norm=1.7649, 1.0811, 0.2685 |  |
| HISTORY | APTELLURIC: Fiber=17 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: Fiber=288 Norm=1.0457, 1.0964, 0.3635 |  |
| HISTORY | APTELLURIC: Fiber=285 Norm=1.0224, 1.1852, 0.4147 |  |
| HISTORY | APTELLURIC: Fiber=130 Norm=1.0135, 1.0560, 0.3369 |  |
| HISTORY | APTELLURIC: Fiber=129 Norm=1.1035, 1.1235, 0.3953 |  |
| HISTORY | APTELLURIC: Fiber=126 Norm=1.1557, 1.1405, 0.3621 |  |
| HISTORY | APTELLURIC: Fiber=119 Norm=1.1059, 1.0928, 0.4475 |  |
| HISTORY | APTELLURIC: Fiber=115 Norm=1.1482, 1.0591, 0.3990 |  |
| HISTORY | APTELLURIC: Fiber=114 Norm=1.1250, 1.1394, 0.3912 |  |
| HISTORY | APTELLURIC: Fiber=108 Norm=1.1183, 1.1305, 0.4014 |  |
| HISTORY | APTELLURIC: Fiber=96 Norm=1.0795, 1.1118, 0.3523 |  |
| HISTORY | APTELLURIC: Fiber=69 Norm=0.9982, 1.0344, 0.4175 |  |
| HISTORY | APTELLURIC: Fiber=49 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: Fiber=46 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: Fiber=39 Norm=1.0646, 1.1768, 0.4707 |  |
| HISTORY | APTELLURIC: Fiber=17 Norm=0.0000, 0.0000, 0.0000 |  |
| HISTORY | APTELLURIC: TELLURIC 2D SPATIAL POLYNOMIAL FIT |  |
| HISTORY | APTELLURIC: SPECIES CH4 |  |
| HISTORY | APTELLURIC: NPARS = 6 |  |
| TLPR1_1 | 1.05319202794 |  |
| TLER1_1 | 0.0398373045027 |  |
| TLPR1_2 | -0.0299197350807 |  |
| TLER1_2 | 0.0 |  |
| TLPR1_3 | 0.0422773082505 |  |
| TLER1_3 | 0.0 |  |
| TLPR1_4 | 0.0 |  |
| TLER1_4 | 0.0 |  |
| TLPR1_5 | 0.0 |  |
| TLER1_5 | 0.0 |  |
| TLPR1_6 | 0.0 |  |
| TLER1_6 | 0.0 |  |
| HISTORY | APTELLURIC: SIG = 0.03984 |  |
| HISTORY | APTELLURIC: TELLURIC 2D SPATIAL POLYNOMIAL FIT |  |
| HISTORY | APTELLURIC: SPECIES CO2 |  |
| HISTORY | APTELLURIC: NPARS = 6 |  |
| TLPR2_1 | 1.13323283672 |  |
| TLER2_1 | 0.0339893400669 |  |
| TLPR2_2 | 0.0295352992354 |  |
| TLER2_2 | 0.0 |  |
| TLPR2_3 | 0.00701760889494 |  |
| TLER2_3 | 0.0 |  |
| TLPR2_4 | 0.0 |  |
| TLER2_4 | 0.0 |  |
| TLPR2_5 | 0.0 |  |
| TLER2_5 | 0.0 |  |
| TLPR2_6 | 0.0 |  |
| TLER2_6 | 0.0 |  |
| HISTORY | APTELLURIC: SIG = 0.03399 |  |
| HISTORY | APTELLURIC: TELLURIC 2D SPATIAL POLYNOMIAL FIT |  |
| HISTORY | APTELLURIC: SPECIES H2O |  |
| HISTORY | APTELLURIC: NPARS = 6 |  |
| TLPR3_1 | 0.519909533258 |  |
| TLER3_1 | 0.0451644584537 |  |
| TLPR3_2 | 0.384824706133 |  |
| TLER3_2 | 0.0 |  |
| TLPR3_3 | 0.0838016281268 |  |
| TLER3_3 | 0.0 |  |
| TLPR3_4 | -0.462926605014 |  |
| TLER3_4 | 0.0 |  |
| TLPR3_5 | -0.0663775488701 |  |
| TLER3_5 | 0.0 |  |
| TLPR3_6 | -0.108469453662 |  |
| TLER3_6 | 0.0 |  |
| HISTORY | APTELLURIC: SIG = 0.04516 |  |
| HISTORY | AP1DVISIT: Sun Apr 10 12:35:05 2022 |  |
| HISTORY | AP1DVISIT: u0914350 on notch278 |  |
| HISTORY | AP1DVISIT: IDL 8.8.0 linux x86_64 |  |
| HISTORY | AP1DVISIT:  APOGEE Reduction Pipeline Version: nidever |  |
| HISTORY | AP1DVISIT: Output File: |  |
| HISTORY | AP1DVISIT:  HDU0 - Header only |  |
| HISTORY | AP1DVISIT:  HDU1 - Flux (ADU) |  |
| HISTORY | AP1DVISIT:  HDU2 - Error (ADU) |  |
| HISTORY | AP1DVISIT:  HDU3 - flag mask (bitwise OR combined) |  |
| HISTORY | AP1DVISIT:         1 - bad pixels |  |
| HISTORY | AP1DVISIT:         2 - cosmic ray |  |
| HISTORY | AP1DVISIT:         4 - saturated |  |
| HISTORY | AP1DVISIT:         8 - unfixable |  |
| HISTORY | AP1DVISIT:  HDU4 - Wavelength (Ang) |  |
| HISTORY | AP1DVISIT:  HDU5 - Sky (ADU) |  |
| HISTORY | AP1DVISIT:  HDU6 - Sky Error (ADU) |  |
| HISTORY | AP1DVISIT:  HDU7 - Telluric |  |
| HISTORY | AP1DVISIT:  HDU8 - Telluric Error |  |
| HISTORY | AP1DVISIT:  HDU9 - Wavelength coefficients |  |
| HISTORY | AP1DVISIT:  HDU10 - LSF coefficients |  |
| HISTORY | AP1DVISIT:  HDU11 - Plugmap structure |  |
| HISTORY | AP1DVISIT:  HDU12 - Plugmap header |  |
| HISTORY | AP1DVISIT:  HDU13 - Telluric structure |  |
| HISTORY | AP1DVISIT:  HDU14 - Shift structure |  |



### HDU1: FLUX
Flux in DN after sky subtraction and telluric correction

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Flux (ADU) |  |



### HDU2: ERROR
Uncertainty in flux

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Flux Error (ADU) |  |



### HDU3: MASK
Bitmask

#### HDU Type: IMAGE
#### HDU Size:  1 MB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | 16 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Flag Mask (bitwise) |  |
| HISTORY | Explanation of BITWISE flag mask (OR combined) |  |
| HISTORY |  1 - bad pixels |  |
| HISTORY |  2 - cosmic ray |  |
| HISTORY |  4 - saturated |  |
| HISTORY |  8 - unfixable |  |



### HDU4: WAVELENGTH
Wavelength array

#### HDU Type: IMAGE
#### HDU Size:  4 MB

##### Header Table Caption for HDU4
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -64 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Wavelength (Ang) |  |



### HDU5: SKY FLUX
Subtracted sky flux

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU5
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Sky (ADU) |  |



### HDU6: SKY ERROR
Uncertainty in subtracted sky flux

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU6
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Sky Error (ADU) |  |



### HDU7: TELLURIC
Telluric correction applied

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU7
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Telluric |  |



### HDU8: TELLURIC ERORR
Uncertainty in telluric correction

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU8
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -32 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 2048 |  |
| NAXIS2 | 300 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Pixel |  |
| CTYPE2 | Fiber |  |
| BUNIT | Telluric Error |  |



### HDU9: WAVE COEFFICIENTS
Wavelength calibration coefficients

#### HDU Type: IMAGE
#### HDU Size:  32 KB

##### Header Table Caption for HDU9
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -64 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 300 |  |
| NAXIS2 | 14 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Fiber |  |
| CTYPE2 | Parameters |  |
| BUNIT | Wavelength Coefficients |  |
| HISTORY | Wavelength Coefficients to be used with PIX2WAVE.PRO: |  |
| HISTORY |  1 Global additive pixel offset |  |
| HISTORY |  4 Sine Parameters |  |
| HISTORY |  7 Polynomial parameters (first is a zero-point offset |  |
| HISTORY |                      in addition to the pixel offset) |  |



### HDU10: LSF COEFFICIENTS
LSF characterization coefficients

#### HDU Type: IMAGE
#### HDU Size:  60 KB

##### Header Table Caption for HDU10
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | IMAGE extension |
| BITPIX | -64 | Number of bits per data pixel |
| NAXIS | 2 | Number of data axes |
| NAXIS1 | 300 |  |
| NAXIS2 | 26 |  |
| PCOUNT | 0 | No Group Parameters |
| GCOUNT | 1 | One Data Group |
| CTYPE1 | Fiber |  |
| CTYPE2 | Parameters |  |
| BUNIT | LSF Coefficients |  |
| HISTORY | LSF Coefficients to be used with LSF_GH.PRO: |  |
| HISTORY |   binsize  The width of a pixel in X-units.  If this is non-zero |  |
| HISTORY |              then a "binned" Gauss-Hermite function is used.  If |  |
| HISTORY |              binsize=0 then a "normal, unbinned" Gauss-Hermite |  |
| HISTORY |              function is used. |  |
| HISTORY |   X0       An additive x-offset.  This is only used to |  |
| HISTORY |              evaluate the GH parameters that vary globally |  |
| HISTORY |              with X. |  |
| HISTORY |   Horder   The highest Hermite order, Horder=0 means |  |
| HISTORY |              only a constant term (i.e. only Gaussian). |  |
| HISTORY |              There are Horder Hermite coefficients (since we fix H0=1). |  |
| HISTORY |   Porder   This array gives the polynomial order for the |  |
| HISTORY |              global variation (in X) of each LSF parameter. |  |
| HISTORY |              That includes sigma and the Horder Hermite |  |
| HISTORY |              coefficients (starting with H1 because we fix H0=1) |  |
| HISTORY |              There will be Porder[i]+1 coefficients for |  |
| HISTORY |              parameter i. |  |
| HISTORY |   GHcoefs  The polynomial coefficients for sigma and the |  |
| HISTORY |              Horder Hermite parameters.  There are Porder[i]+1 |  |
| HISTORY |              coefficients for parameter i.  The Hermite parameters |  |
| HISTORY |              start with H1 since we fix H0=1. |  |



### HDU11: 
Target information

#### HDU Type: BINARY TABLE
#### HDU Size:  104 KB

##### Header Table Caption for HDU11
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Binary table written by MWRFITS v1.13 |
| BITPIX | 8 | Required value |
| NAXIS | 2 | Required value |
| NAXIS1 | 356 | Number of bytes per row |
| NAXIS2 | 300 | Number of rows |
| PCOUNT | 0 | Normally 0 (no varying arrays) |
| GCOUNT | 1 | Required value |
| TFIELDS | 55 | Number of columns in table |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |

##### Binary Table Caption for HDU11
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FIBERID | int16 |  |  |
 | RA | float64 |  |  |
 | DEC | float64 |  |  |
 | ETA | float64 |  |  |
 | ZETA | float64 |  |  |
 | OBJTYPE | char[7] |  |  |
 | HOLETYPE | char[6] |  |  |
 | OBJECT | char[18] |  |  |
 | ASSIGNED | int16 |  |  |
 | ON_TARGET | int16 |  |  |
 | VALID | int16 |  |  |
 | TMASS_STYLE | char[18] |  |  |
 | TARGET1 | int32 |  |  |
 | TARGET2 | int32 |  |  |
 | TARGET3 | int32 |  |  |
 | TARGET4 | int32 |  |  |
 | SPECTROGRAPHID | int16 |  |  |
 | MAG | float32[5] |  |  |
 | ALT_ID | char |  |  |
 | TWOMASS_DESIGNATION | char[16] |  |  |
 | JMAG | float32 |  |  |
 | JERR | float32 |  |  |
 | HMAG | float32 |  |  |
 | HERR | float32 |  |  |
 | KMAG | float32 |  |  |
 | KERR | float32 |  |  |
 | PHFLAG | char |  |  |
 | SRC_H | char |  |  |
 | PMRA | float32 |  |  |
 | PMDEC | float32 |  |  |
 | PM_SRC | char |  |  |
 | CATALOGID | int64 |  |  |
 | SDSSV_APOGEE_TARGET0 | int64 |  |  |
 | FIRSTCARTON | char[25] |  |  |
 | CADENCE | char[10] |  |  |
 | PROGRAM | char[13] |  |  |
 | CATEGORY | char[15] |  |  |
 | GAIA_G | float32 |  |  |
 | GAIA_BP | float32 |  |  |
 | GAIA_RP | float32 |  |  |
 | GAIADR2_SOURCEID | char[22] |  |  |
 | GAIADR2_RA | float64 |  |  |
 | GAIADR2_DEC | float64 |  |  |
 | GAIADR2_PLX | float32 |  |  |
 | GAIADR2_PLX_ERROR | float32 |  |  |
 | GAIADR2_PMRA | float32 |  |  |
 | GAIADR2_PMRA_ERROR | float32 |  |  |
 | GAIADR2_PMDEC | float32 |  |  |
 | GAIADR2_PMDEC_ERROR | float32 |  |  |
 | GAIADR2_GMAG | float32 |  |  |
 | GAIADR2_GERR | float32 |  |  |
 | GAIADR2_BPMAG | float32 |  |  |
 | GAIADR2_BPERR | float32 |  |  |
 | GAIADR2_RPMAG | float32 |  |  |
 | GAIADR2_RPERR | float32 |  |  |



### HDU12: 
VISIT INFORMATION

#### HDU Type: BINARY TABLE
#### HDU Size:  72 bytes

##### Header Table Caption for HDU12
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Binary table written by MWRFITS v1.13 |
| BITPIX | 8 | Required value |
| NAXIS | 2 | Required value |
| NAXIS1 | 72 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Normally 0 (no varying arrays) |
| GCOUNT | 1 | Required value |
| TFIELDS | 8 | Number of columns in table |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |

##### Binary Table Caption for HDU12
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | PLATE | int32 |  |  |
 | MJD | int32 |  |  |
 | PLATEID | char[3] |  |  |
 | LOCATIONID | int32 |  |  |
 | FIELD | char[12] |  |  |
 | PROGRAMNAME | char[28] |  |  |
 | CMJD | char[5] |  |  |
 | HA | float32[3] |  |  |



### HDU13: 
Telluric fit information

#### HDU Type: BINARY TABLE
#### HDU Size:  17 KB

##### Header Table Caption for HDU13
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Binary table written by MWRFITS v1.13 |
| BITPIX | 8 | Required value |
| NAXIS | 2 | Required value |
| NAXIS1 | 17500 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Normally 0 (no varying arrays) |
| GCOUNT | 1 | Required value |
| TFIELDS | 12 | Number of columns in table |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column dimensions (2 D or greater) *** |  |
| COMMENT |  |  |
| TDIM2 | ( 300, 3) |  |
| TDIM6 | ( 6, 3) |  |
| TDIM7 | ( 300, 3) |  |
| TDIM12 | ( 300, 5) |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |

##### Binary Table Caption for HDU13
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | IM | int32 |  |  |
 | SCALE | float32[900] |  |  |
 | SIG | float32[3] |  |  |
 | NFIT | int16[3] |  |  |
 | BESTMOD | int16[3] |  |  |
 | FITPARS | float32[18] |  |  |
 | FITSCALE | float32[900] |  |  |
 | RCHISQ | float32[300] |  |  |
 | STATUS | int16[300] |  |  |
 | ZETA | float32[300] |  |  |
 | ETA | float32[300] |  |  |
 | MAG | float32[1500] |  |  |



### HDU14: 
Dither shift information

#### HDU Type: BINARY TABLE
#### HDU Size:  57 bytes

##### Header Table Caption for HDU14
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | Binary table written by MWRFITS v1.13 |
| BITPIX | 8 | Required value |
| NAXIS | 2 | Required value |
| NAXIS1 | 57 | Number of bytes per row |
| NAXIS2 | 1 | Number of rows |
| PCOUNT | 0 | Normally 0 (no varying arrays) |
| GCOUNT | 1 | Required value |
| TFIELDS | 5 | Number of columns in table |
| COMMENT |  |  |
| COMMENT |  *** End of mandatory fields *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column formats *** |  |
| COMMENT |  |  |
| COMMENT |  |  |
| COMMENT |  *** Column dimensions (2 D or greater) *** |  |
| COMMENT |  |  |
| TDIM4 | ( 3, 2) |  |
| COMMENT |  |  |
| COMMENT |  *** Column names *** |  |
| COMMENT |  |  |

##### Binary Table Caption for HDU14
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | TYPE | char[5] |  |  |
 | SHIFTFIT | float32[2] |  |  |
 | SHFITERR | float32 |  |  |
 | CHIPSHIFT | float32[6] |  |  |
 | CHIPFIT | float32[4] |  |  |



---
## Notes
None

---
## Regrets
I have no regrets!