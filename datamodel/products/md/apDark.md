# Data Model: apDark


migrated from old datamodel - needs update


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDU List](#example-hdu-list)


---

## Basic Information
apDark frames contain the measured dark current for each detector. Dark frames exist
in a data cube representing the measure dark at each successive readout in an up-the-ramp
data collection. Each plane in apDark represents the average dark current at the
corresponding readout.
The multiextension FITS file contains:
<pre>
HDU0: master header
HDU1: dark current image (ADU) [FLOAT]: 2048x2048xmaxread
HDU2: flag mask [INT*2]
HDU3: chi2 image [FLOAT]
</pre>

### Naming Convention
apDark-[abc]-ID8.fits
where ID8 represents the ID number of the first frame used to construct the dark.

### Releases
DR10, DR12, DR11, DR13, DR14, DR15, DR16, WORK

### Enviroments
APOGEE_REDUX

### Approximate Size
1 GB

### File Type
FITS

### Generated by Product
migration: not in database. Needs update

### HDU List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: ](#hdu1-)
  - [HDU2: ](#hdu2-)
  - [HDU3: ](#hdu3-)


---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: DR16
   - note: No changes
 - DR16
   - from: DR15
   - note: No changes
 - DR15
   - from: DR14
   - note: No changes
 - DR14
   - from: DR13
   - note: No changes
 - DR13
   - from: DR11
   - primary_delta_nkeys: 8
   - added_primary_header_kwargs: ['SRVYMODE', 'PLATETYP', 'SPA']
   - removed_primary_header_kwargs: ['M2PISTON', 'COMMENT', 'M1YTILT', 'M1PISTON', 'M2XTILT', 'M1XTILT', 'M1XTRAN', 'M1YTRAN', 'M2YTRAN', 'M2XTRAN', 'M2YTILT']
 - DR11
   - from: DR12
   - note: No changes
 - DR12
   - from: DR10
   - note: No changes

---
## Example HDU List


### HDU0: PRIMARY
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 16 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| INTDELAY | 0.1 | migration: description of keyword/column not found. Needs update |
| DATE-OBS | 2014-07-15T03:08:58.833 | migration: description of keyword/column not found. Needs update |
| TIMESYS | UTC | migration: description of keyword/column not found. Needs update |
| NFRAMES | 60 | migration: description of keyword/column not found. Needs update |
| INTOFF | 10647 | migration: description of keyword/column not found. Needs update |
| EXPTIME | 638.9200000000001 | migration: description of keyword/column not found. Needs update |
| FILENAME | /data-ql/data/56853/apRaw-12910009-001.fits | migration: description of keyword/column not found. Needs update |
| IMAGETYP | Dark | migration: description of keyword/column not found. Needs update |
| FULLX | 8192 | migration: description of keyword/column not found. Needs update |
| FULLY | 2048 | migration: description of keyword/column not found. Needs update |
| BEGX | 1 | migration: description of keyword/column not found. Needs update |
| BEGY | 1 | migration: description of keyword/column not found. Needs update |
| BINX | 1 | migration: description of keyword/column not found. Needs update |
| BINY | 1 | migration: description of keyword/column not found. Needs update |
| ACAMREV | UVA-Astrocam v1.2r55 | migration: description of keyword/column not found. Needs update |
| OBSCMNT | None | migration: description of keyword/column not found. Needs update |
| LKSHPWR | 0.0 | migration: description of keyword/column not found. Needs update |
| TDETTOP | 74.467 | migration: description of keyword/column not found. Needs update |
| TDETBASE | 74.522 | migration: description of keyword/column not found. Needs update |
| COLPITCH | 0.0 | migration: description of keyword/column not found. Needs update |
| TTENTTOP | 83.955 | migration: description of keyword/column not found. Needs update |
| COLLM3 | 0.0 | migration: description of keyword/column not found. Needs update |
| TCLDPMID | 78.062 | migration: description of keyword/column not found. Needs update |
| COLLM2 | 0.0 | migration: description of keyword/column not found. Needs update |
| COLLM1 | 0.0 | migration: description of keyword/column not found. Needs update |
| TGETTER | 76.057 | migration: description of keyword/column not found. Needs update |
| TTLMBRD | 299.362 | migration: description of keyword/column not found. Needs update |
| TLSOUTH | 76.261 | migration: description of keyword/column not found. Needs update |
| TLNORTH | 76.895 | migration: description of keyword/column not found. Needs update |
| TLSCAM2 | 79.32 | migration: description of keyword/column not found. Needs update |
| TLSCAM1 | 79.307 | migration: description of keyword/column not found. Needs update |
| TLSDETC | 74.909 | migration: description of keyword/column not found. Needs update |
| TLSDETB | 73.943 | migration: description of keyword/column not found. Needs update |
| TPGVAC | 1.22e-06 | migration: description of keyword/column not found. Needs update |
| LN2CNTRL | 0.0 | migration: description of keyword/column not found. Needs update |
| TCAMAFT | 78.112 | migration: description of keyword/column not found. Needs update |
| TCAMMID | 78.841 | migration: description of keyword/column not found. Needs update |
| COLLYAW | 0.0 | migration: description of keyword/column not found. Needs update |
| TCAMFWD | 78.882 | migration: description of keyword/column not found. Needs update |
| TEMPVPH | 78.303 | migration: description of keyword/column not found. Needs update |
| TRADSHLD | 88.638 | migration: description of keyword/column not found. Needs update |
| TCOLLIM | 79.034 | migration: description of keyword/column not found. Needs update |
| TCPCORN | 80.107 | migration: description of keyword/column not found. Needs update |
| TCLDPHNG | 79.605 | migration: description of keyword/column not found. Needs update |
| COLLPIST | 0.0 | migration: description of keyword/column not found. Needs update |
| DITHPIX | 12.994 | migration: description of keyword/column not found. Needs update |
| RELHUM | 29.775 | migration: description of keyword/column not found. Needs update |
| LN2LEVEL | 90.48 | migration: description of keyword/column not found. Needs update |
| MKSVAC | 1.39e-06 | migration: description of keyword/column not found. Needs update |
| OBJECT | ObjName | migration: description of keyword/column not found. Needs update |
| FILTER1 | FILTER | migration: description of keyword/column not found. Needs update |
| ICSREV | APOGEE ICS2.0r033 | migration: description of keyword/column not found. Needs update |
| DSPFILE | UNKNOWN | migration: description of keyword/column not found. Needs update |
| TELESCOP | SDSS 2-5m | migration: description of keyword/column not found. Needs update |
| EXPTYPE | DARK | migration: description of keyword/column not found. Needs update |
| LAMPQRTZ | 0 | migration: description of keyword/column not found. Needs update |
| LAMPUNE | 0 | migration: description of keyword/column not found. Needs update |
| LAMPTHAR | 0 | migration: description of keyword/column not found. Needs update |
| LAMPSHTR | 0 | migration: description of keyword/column not found. Needs update |
| LAMPCNTL | 1 | migration: description of keyword/column not found. Needs update |
| SEEING | 1.5176 | migration: description of keyword/column not found. Needs update |
| FF | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| NE | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| HGCD | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| FFS | 1 1 1 1 1 1 1 1 | migration: description of keyword/column not found. Needs update |
| OBJSYS | None | migration: description of keyword/column not found. Needs update |
| RA | NaN | migration: description of keyword/column not found. Needs update |
| DEC | NaN | migration: description of keyword/column not found. Needs update |
| RADEG | NaN | migration: description of keyword/column not found. Needs update |
| DECDEG | NaN | migration: description of keyword/column not found. Needs update |
| SPA | NaN | migration: description of keyword/column not found. Needs update |
| ROTPOS | 0.0 | migration: description of keyword/column not found. Needs update |
| BOREOFFX | NAN.0 | migration: description of keyword/column not found. Needs update |
| BOREOFFY | NAN.0 | migration: description of keyword/column not found. Needs update |
| ARCOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| ARCOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| OBJOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| OBJOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| CALOFFX | NAN.0 | migration: description of keyword/column not found. Needs update |
| CALOFFY | NAN.0 | migration: description of keyword/column not found. Needs update |
| CALOFFR | NAN.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFR | 0.0 | migration: description of keyword/column not found. Needs update |
| AZ | NaN | migration: description of keyword/column not found. Needs update |
| ALT | NaN | migration: description of keyword/column not found. Needs update |
| IPA | NaN | migration: description of keyword/column not found. Needs update |
| FOCUS | 0.0 | migration: description of keyword/column not found. Needs update |
| SCALE | 1.0 | migration: description of keyword/column not found. Needs update |
| NAME | 7507-56840-01 | migration: description of keyword/column not found. Needs update |
| PLATEID | 7507 | migration: description of keyword/column not found. Needs update |
| CARTID | 10 | migration: description of keyword/column not found. Needs update |
| MAPID | 1 | migration: description of keyword/column not found. Needs update |
| POINTING | A | migration: description of keyword/column not found. Needs update |
| PLATETYP | eBOSS | migration: description of keyword/column not found. Needs update |
| SRVYMODE | None | migration: description of keyword/column not found. Needs update |
| CHIP | a | migration: description of keyword/column not found. Needs update |
| NREAD | 60 | migration: description of keyword/column not found. Needs update |
| CHECKSUM | LgaILgXFLgaFLgUF | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKDARK: Fri Jan 22 23:18:36 2021 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKDARK: u0914351 on kp121 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKDARK: IDL 8.4 linux x86_64 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKDARK:  APOGEE Reduction Pipeline Version: 0.17.14 | migration: description of keyword/column not found. Needs update |



### HDU1: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  960 MB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 3 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| NAXIS2 | 2048 | length of dimension 2 |
| NAXIS3 | 60 | migration: description of keyword/column not found. Needs update |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU2: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  960 MB

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 3 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| NAXIS2 | 2048 | length of dimension 2 |
| NAXIS3 | 60 | migration: description of keyword/column not found. Needs update |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |



### HDU3: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  4 MB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| NAXIS2 | 2048 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |


