# Data Model: spPlancombepoch


Processing plan for Coadding Exposures across a field epoch


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example PAR List](#example-par-list)
- [Notes](#notes)
- [Regrets](#regrets)
---

## Basic Information
Processing plan to combine all spectroscopic reductions for an epoch of field/plate observations. In plates, an epoch is a single plugging that could span several MJDs (except for RM plates that is limited to 3 days), and in FPS an epoch is defined by the Field cadence definition. This replaces the spPlancomb (from earlier versions) for coadding multiple mjds.

### Naming Convention
$BOSS_SPECTRO_REDUX/[RUN2D]/[FIELD]/epoch/spPlancombepoch-[FIELD]-[MJD].par

### Releases
IPL3, DR19, IPL4

### Enviroments
BOSS_SPECTRO_REDUX

### Approximate Size
3 KB

### File Type
PAR

### Generated by Product
idlspec2d - spplan_epoch.py

### Is a VAC
False

### Data Level
1.1

### PAR List for release DR19
  - [SPEXP](#SPEXP)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - IPL4
   - from: DR19
   - delta_nkeys: 1
   - removed_header_keys: ['idlutilsVersion']
 - DR19
   - from: IPL3
   - note: No changes

---
## Example PAR List
### Comments
```
#%yanny
# Table
```

### Header

Key | Value | Comment | |
| --- | --- | --- | --- |
| fieldid | 112360 | FieldID (or PlateID) |
| MJD | 60000 | Modified Julian Date of plan |
| OBS | APO | Associated Observatory |
| DITHER | F | Is the Field Dithered (T: True, F: False) |
| FieldCadence | dark_174x8_v1 | Field Cadence Name |
| FieldPk | 33243 | Field Primary Key (for sdssdb; -999 for plates) |
| EpochID | 11 | Completed Plan Epoch ID (or MJD of incomplete epoch or daily coadd) |
| N_MJD | 2 | Number of MJDs included in the Epoch |
| planfile2d | 'spPlan2d-112360-59999.par' 'spPlan2d-112360-60000.par' | Plan file(s) for Daily 2D spectral reductions |
| planfilecomb | spPlancombepoch-112360-60000.par | Plan file for Combine (this file) |
| idlspec2dVersion | v6_1_3 | Version of idlspec2d when building plan file |
| idlutilsVersion | 6.0.0dev | Version of idlutils when building plan file |
| sdssdb_Version | 0.9.0a0 | Version of sdssdb when building this plan file |
| RS_Version | zeta-3 | Robostrategy Version for this field (or 'plates') |


### Tables


#### SPEXP
- Description: Exposures included
- Number of Rows: 24

#### Structure
Name | Type | Unit | Description | Is Array | Example |
| --- | --- | --- | --- | --- | --- |
 | confid | char[4] |  | FPS Configuration ID of exposure | False | 8860 |
 | fieldid | char[6] |  | FieldID (or PlateID) of exposure | False | 112360 |
 | mjd | int |  | MJD of exposure | False | 59999 |
 | mapname | char[4] |  | Plate Map Name or FPS configuration ID | False | 8860 |
 | flavor | char[7] |  | Flavor of Exposure (flat, arc, science) | False | science |
 | exptime | float | s | Exposure Length of exposure | False | 900.0900268554688 |
 | name | char[2][30] |  | Name of spFrame Exposure Files | True | ['spFrame-b1-00352994.fits', 'spFrame-r1-00352994.fits'] |
 | epoch_combine | long |  | Epoch MJD for coadd (last MJD in coadd) | False | 60000 |


---
## Notes
None

---
## Regrets
I have no regrets!