# Data Model: spAllField_epoch


Summary spectroscopic information for the BOSS spectrograph data of a field-epoch Coadd.


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)
- [Notes](#notes)

---

## Basic Information
This file contains a summary of the BOSS idlspec2d and spectro-1d pipeline outputs every target in a given field-epoch Coadd

### Naming Convention
$BOSS_SPECTRO_REDUX/[RUN2D]/epoch/spectra/full/[FIELD]/[MJD]/spAll-[FIELD]-[MJD].fits.gz

### Releases
WORK

### Enviroments
BOSS_SPECTRO_REDUX

### Approximate Size
280 KB

### File Type
FITS

### Generated by Product
idlspec2d

### Is a VAC
False

### HDUS List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: SPALL](#hdu1-spall)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another

---
## Example HDUS List

### HDU0: PRIMARY


#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 8 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| RUN2D | v6_1_3 | IDLSPEC2D RUN2D |
| DATE | Fri Apr 12 22:34:41 2024 | Date Created |
| SDSSC2BV | 1 | SDSS5_TARGET_FLAG Carton to Bit Version |
| CHECKSUM | Z5abg5SbZ5Ybf5Yb | HDU checksum updated 2024-04-12T22:34:41 |
| DATASUM | 0 | data unit checksum updated 2024-04-12T22:34:41 |



### HDU1: SPALL
Spectral Summary Table

#### HDU Type: BINARY TABLE
#### HDU Size:  1 MB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 2746 | length of dimension 1 |
| NAXIS2 | 509 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 144 | number of table fields |
| TNULL1 | 0 |  |
| TNULL2 | 0 |  |
| TNULL11 | 0 |  |
| TNULL13 | -1 |  |
| TDIM21 | (29) |  |
| TNULL23 | -999 |  |
| TNULL24 | -999 |  |
| TNULL25 | -999 |  |
| TNULL26 | -999 |  |
| TNULL27 | -1 |  |
| TNULL36 | 0 |  |
| TNULL39 | 0 |  |
| TNULL59 | -999 |  |
| TNULL64 | -999 |  |
| TNULL65 | -999 |  |
| TNULL66 | -999 |  |
| TNULL92 | 0 |  |
| TNULL93 | 0 |  |
| TNULL94 | 0 |  |
| TNULL95 | 0 |  |
| TNULL96 | 0 |  |
| TNULL97 | 0 |  |
| TNULL110 | -999 |  |
| TNULL112 | -999 |  |
| TNULL115 | -1 |  |
| TNULL116 | -1 |  |
| TNULL124 | -1 |  |
| TNULL131 | 0 |  |
| TNULL132 | 0 |  |
| EXTNAME | SPALL | extension name |
| CHECKSUM | 4eOo6bMl4bMl4bMl | HDU checksum updated 2024-04-12T22:34:41 |
| DATASUM | 288862690 | data unit checksum updated 2024-04-12T22:34:41 |

##### Binary Table Caption for HDU1
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | FIELD | int64 |  | SDSS FieldID (plateID for plate era data) |
 | MJD | int64 |  | Modified Julian date of combined Spectra |
 | OBS | char[3] |  | Observatory of Observation |
 | MJD_FINAL | float64 |  | Mean MJD of the Coadded Spectra |
 | MJD_LIST | char[47] |  | List of MJD of each included exposures |
 | TAI_LIST | char[87] |  | List Tai for each exposure (at midpoint) |
 | RUN2D | char[6] |  | Spectro-2D reduction name |
 | RUN1D | char[6] |  | Spectro-1D reduction name |
 | DESIGNS | char[55] |  | List of Included Designs |
 | CONFIGS | char[39] |  | List of Included Configurations |
 | NEXP | int16 |  | Number of Included Exposures |
 | EXPTIME | float32 | s | Total Exposure time of Coadded Spectra |
 | TARGET_INDEX | int64 |  | Index of target on combined spField |
 | FIBERID_LIST | char[31] |  | List of FiberIDs contributing to Stack |
 | SPEC_FILE | char[41] |  | Name of spec file (in SAS) |
 | PROGRAMNAME | char[7] |  | Program name within a given survey |
 | SURVEY | char[3] |  | Survey that field is part of |
 | CADENCE | char[10] |  | Requested Target Cadence |
 | FIRSTCARTON | char[17] |  | Primary SDSS Carton for target |
 | CARTON_TO_TARGET_PK | char[9] |  | SDSS-V CartonToTarget DB Table Primary Key |
 | SDSS5_TARGET_FLAGS | bool[29] |  | Targeting Flags for SSDSV Targeting |
 | OBJTYPE | char[16] |  | Why this object was targetted. QSO=SCIENCE |
 | CATALOGID | int64 |  | SDSS-V CatalogID used in naming |
 | CATALOGID_V0 | int64 |  | SDSS-V CatalogID from Catalog v0 |
 | CATALOGID_V0P5 | int64 |  | SDSS-V CatalogID from Catalog v0.5 |
 | SDSS_ID | int64 |  | Unified SDSS Target Identifier |
 | SPECOBJID | int64 |  | Unique ID based on Field, MJD, FIBERID, RUN2D |
 | CALIBFLUX | float32[5] |  | Broad-band flux in SDSS-{ugriz} from PSFmag |
 | CALIBFLUX_IVAR | float32[5] |  | Inverse var flux SDSS-{ugriz} from PSFmag |
 | OPTICAL_PROV | char[11] |  | The source of the optical CATDB_MAG magnitudes |
 | MAG | float32[5] |  | [u, g, r, i, z] optical magnitudes |
 | PSFMAG | float32[5] |  | [u, g, r, i, z] optical PSF magnitudes |
 | FIBER2MAG | float32[5] |  | [u, g, r, i, z] optical Fiber2 magnitudes |
 | CATDB_MAG | float32[5] |  | [u, g, r, i, z] Raw TargetDB magnitudes |
 | GAIA_G_MAG | float32 |  | Gaia G magnitude |
 | GRI_GAIA_TRANSFORM | int64 |  | provenance of photometry in SDSS-V plate design |
 | BP_MAG | float32 |  | Gaia BP magnitude |
 | RP_MAG | float32 |  | Gaia RP magnitude |
 | GAIA_ID | int64 |  | Gaia DR3 SourceID |
 | WISE_MAG | float32[4] |  | WISE [W1, W2, W3, W4] band magnitudes |
 | TWOMASS_MAG | float32[3] |  | 2MASS [J, H, Ks] band magnitudes |
 | GUVCAT_MAG | float32[2] |  | GALEX [FUV, NUV] band magnitudes |
 | EBV | float32 |  | dust extinction |
 | EBV_TYPE | char[3] |  | Source of dust extinction |
 | FIBER_RA | float64 |  | Fiber RA [J2000 for plate; at exp for FPS] |
 | FIBER_DEC | float64 |  | Fiber DEC [J2000 for plate; at exp for FPS] |
 | PLUG_RA | float64 |  | Object RA (drilled fiber position) [J2000] |
 | PLUG_DEC | float64 |  | Object DEC (drilled fiber position) [J2000] |
 | RACAT | float64 |  | Catalog RA in ICRS coordinates at coord_epoch |
 | DECCAT | float64 |  | Catalog DEC in ICRS coordinates at coord_epoch |
 | COORD_EPOCH | float32 |  | Epoch of the RACAT/DECCAT Catalog coordinates. |
 | PMRA | float32 |  | Proper motion in RA (pmra is a true angle) |
 | PMDEC | float32 |  | Proper motion in Dec |
 | PARALLAX | float32 |  | Parallax |
 | RA_LIST | char[87] |  | List of measured RA per exposure |
 | DEC_LIST | char[71] |  | List of measured DEC per exposure |
 | DELTA_RA_LIST | char[31] |  | List of designed RA offsets per exposure |
 | DELTA_DEC_LIST | char[31] |  | List of designed DEC offsets per exposure |
 | FIBER_OFFSET | int64 |  | Flag identifying the fiber was offset by design |
 | XFOCAL | char[71] |  | Hole/robot x-axis position in focal plane |
 | YFOCAL | char[71] |  | Hole/robot y-axis position in focal plane |
 | ZOFFSET | float32 |  | Backstopping offset distance |
 | LAMBDA_EFF | float32 |  | Wavelength to optimize hole location for |
 | BLUEFIBER | int64 |  | 1 if assigned target a blue fiber; 0 otherwise |
 | HEALPIX | int64 |  | healpix pixel number nside=128 |
 | HEALPIXGRP | int64 |  | Rounded-down integer value of healpix / 1000 |
 | HEALPIX_PATH | char[68] |  | Path to spec fits file in SAS healpix structure |
 | FIELDQUALITY | char[4] |  | Characterization of field quality |
 | EXP_DISP_MED | float64 |  | Dispersion of Median Exposure Flux |
 | FIELDSN2 | float32 |  | Overall (S/N)^2 for field; min of cameras |
 | FIELDSNR2G_LIST | char[39] |  | Overall Field (S/N)^2 in g per exposure |
 | FIELDSNR2R_LIST | char[39] |  | Overall Field (S/N)^2 in r per exposure |
 | FIELDSNR2I_LIST | char[39] |  | Overall Field (S/N)^2 in i per exposure |
 | SPEC1_G | float32 |  | Fit (S/N)^2 at g=20.20 for spectrograph 1 |
 | SPEC1_R | float32 |  | Fit (S/N)^2 at r=20.25 for spectrograph 1 |
 | SPEC1_I | float32 |  | Fit (S/N)^2 at i=19.90 for spectrograph 1 |
 | SPEC2_G | float32 |  | Fit (S/N)^2 at g=20.20 for spectrograph 2 |
 | SPEC2_R | float32 |  | Fit (S/N)^2 at r=20.25 for spectrograph 2 |
 | SPEC2_I | float32 |  | Fit (S/N)^2 at i=19.90 for spectrograph 2 |
 | SN_MEDIAN | float32[5] |  | Median S/N for all good pixels in SDSS-{ugriz} |
 | SN_MEDIAN_ALL | float32 |  | Median S/N for all good pixels in all filters |
 | AIRMASS | float32 |  | Airmass at time of observation |
 | SEEING20 | float32 |  | Mean 20% seeing during exposures (arcsec) |
 | SEEING50 | float32 |  | Mean 50% seeing during exposures (arcsec) |
 | SEEING80 | float32 |  | Mean 80% seeing during exposures (arcsec) |
 | MOON_DIST | char[47] |  | Mean Moon-target separation of Coadded Spectra |
 | MOON_PHASE | char[39] |  | Mean Moon phase of the Coadded Spectra |
 | ASSIGNED | char[15] |  | Whether this fibre was assigned to a target |
 | ON_TARGET | char[15] |  | Whether this fibre is on target |
 | VALID | char[15] |  | alpha and beta angles are valid |
 | DECOLLIDED | char[15] |  | this positioner had to be moved to decollide it |
 | ANYANDMASK | int64 |  | For each bit, any pixel has bit set in ANDMASK |
 | ANYORMASK | int64 |  | For each bit, any pixel has bit set in ORMASK |
 | SPECPRIMARY | int64 |  | Best version of spectrum at this location |
 | SPECBOSS | int64 |  | Best version of spectrum at this location |
 | BOSS_SPECOBJ_ID | int64 |  | ID of spectrum location on sky |
 | NSPECOBS | int64 |  | Number of spectral observations |
 | SPECTROFLUX | float32[5] |  | Spectrum projected onto SDSS-{ugriz} filter |
 | SPECTROFLUX_IVAR | float32[5] |  | Inverse variance of SPECTROFLUX |
 | SPECTROSYNFLUX | float32[5] |  | Best-fit template projected onto SDSS-{ugriz} |
 | SPECTROSYNFLUX_IVAR | float32[5] |  | Inverse variance of SPECTROSYNFLUX |
 | SPECTROSKYFLUX | float32[5] |  | Sky spectrum projected onto SDSS-{ugriz} filter |
 | WAVEMIN | float32 |  | Minimum observed (vacuum) wavelength for target |
 | WAVEMAX | float32 |  | Maximum observed (vacuum) wavelength for target |
 | WCOVERAGE | float32 |  | Amount of wavelength coverage in log-10(Angs) |
 | CLASS | char[6] |  | Spectro classification: GALAXY, QSO, STAR |
 | SUBCLASS | char[21] |  | Spectro sub-classification |
 | Z | float32 |  | Redshift; incorrect for nonzero ZWARNING flag |
 | Z_ERR | float32 |  | z error from chi^2 min; negative is invalid fit |
 | ZWARNING | int64 |  | A flag for bad z fits in place of CLASS=UNKNOWN |
 | RCHI2 | float32 |  | Reduced chi^2 for best fit |
 | DOF | int64 |  | Degrees of freedom for best fit |
 | RCHI2DIFF | float32 |  | Diff in reduced chi^2 of 2 best solutions |
 | TFILE | char[24] |  | Template file in $IDLSPEC2D_DIR/templates |
 | TCOLUMN | int64[10] |  | Column to use in template file (0-indexed) |
 | NPOLY | int64 |  | # of polynomial terms with TFILE |
 | THETA | float32[10] |  | Eigenvalue coeff for template file + polynomial |
 | VDISP | float32 |  | Velocity dispersion, only computed for galaxies |
 | VDISP_ERR | float32 |  | Error in VDISP; negative for invalid fit |
 | VDISPZ | float32 |  | Redshift for best-fit velocity dispersion |
 | VDISPZ_ERR | float32 |  | Error in VDISPZ |
 | VDISPCHI2 | float32 |  | Chi^2 for best-fit velocity dispersion |
 | VDISPNPIX | float32 |  | Num of pixels overlapping VDISP fit templates |
 | VDISPDOF | int64 |  | DOF for best-fit velocity dispersion |
 | CHI68P | float32 |  | 68% of abs(chi) of synthetic to actual spectrum |
 | FRACNSIGMA | float32[10] |  | Fraction of pixels deviant by >{1-10} sigma |
 | FRACNSIGHI | float32[10] |  | Fraction of pixels high by >{1-10} sigma |
 | FRACNSIGLO | float32[10] |  | Fraction of pixels low by >{1-10} sigma |
 | Z_NOQSO | float32 |  | Redshift of the best-fit non-QSO model |
 | Z_ERR_NOQSO | float32 |  | Formal one-sigma error on Z_NOQSO |
 | ZNUM_NOQSO | int64 |  | Best fit z/class index excluding QSO; 1-indexed |
 | ZWARNING_NOQSO | int64 |  | Redshift warning flag for Z_NOQSO |
 | CLASS_NOQSO | char[6] |  | Spectro class of best-fit non-QSO model |
 | SUBCLASS_NOQSO | char[21] |  | Spectro sub-class of best-fit non-QSO model |
 | RCHI2DIFF_NOQSO | float32 |  | Reduced chi^2 diff to next-best non-QSO model |
 | XCSAO_RV | float32 |  | Radial velocity measured with pyXCSAO |
 | XCSAO_ERV | float32 |  | Uncertainty in Radial velocity |
 | XCSAO_RXC | float32 |  | Cross correlation strength from pyXCSAO |
 | XCSAO_TEFF | float32 |  | Interpolated temperature from pyXCSAO |
 | XCSAO_ETEFF | float32 |  | Uncertainty in Interpolated temperature |
 | XCSAO_LOGG | float32 |  | Interpolated surface gravity from pyXCSAO |
 | XCSAO_ELOGG | float32 |  | Uncertainty in Interpolated surface gravity |
 | XCSAO_FEH | float32 |  | Interpolated metallicity from pyXCSAO |
 | XCSAO_EFEH | float32 |  | Uncertainty in interpolated metallicity |



---
## Notes
None