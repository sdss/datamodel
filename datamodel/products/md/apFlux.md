# Data Model: apFlux


migrated from old datamodel - needs update


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDU List](#example-hdu-list)


---

## Basic Information
apFlux contains calibration data about the relative response of the system at different
wavelengths. It is derived from a combination of observations of a spectrophotometric
standard and flat fields. The format is a response curve for each fiber, on a
wavelength scale that corresponds to 0.5 pixel spacing.

### Naming Convention
apFlux-MJD5.fits

### Releases
DR10, DR12, DR11, DR13, DR14, DR15, DR16, WORK

### Enviroments
APOGEE_REDUX

### Approximate Size
2 MB

### File Type
FITS

### Generated by Product
migration: not in database. Needs update

### HDU List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: ](#hdu1-)
  - [HDU2: ](#hdu2-)
  - [HDU3: ](#hdu3-)
  - [HDU4: ](#hdu4-)


---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: DR16
   - note: No changes
 - DR16
   - from: DR15
   - primary_delta_nkeys: 2
   - added_primary_header_kwargs: ['COMMENT', 'ICSREV']
   - removed_primary_header_kwargs: ['SPA']
 - DR15
   - from: DR14
   - note: No changes
 - DR14
   - from: DR13
   - note: No changes
 - DR13
   - from: DR11
   - primary_delta_nkeys: 1
   - removed_primary_header_kwargs: ['CHECKSUM']
 - DR11
   - from: DR12
   - note: No changes
 - DR12
   - from: DR10
   - primary_delta_nkeys: 1

---
## Example HDU List


### HDU0: PRIMARY
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 16 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| INTDELAY | 0.1 | migration: description of keyword/column not found. Needs update |
| DATE-OBS | 2011-08-30T02:41:05.475 | migration: description of keyword/column not found. Needs update |
| TIMESYS | UTC | migration: description of keyword/column not found. Needs update |
| NFRAMES | 5 | migration: description of keyword/column not found. Needs update |
| INTOFF | 10647 | migration: description of keyword/column not found. Needs update |
| EXPTIME | 53.335 | migration: description of keyword/column not found. Needs update |
| FILENAME | /data-ql/data/55803/apRaw-02410055-001.fits | migration: description of keyword/column not found. Needs update |
| IMAGETYP | DomeFlat | migration: description of keyword/column not found. Needs update |
| FULLX | 8192 | migration: description of keyword/column not found. Needs update |
| FULLY | 2048 | migration: description of keyword/column not found. Needs update |
| BEGX | 1 | migration: description of keyword/column not found. Needs update |
| BEGY | 1 | migration: description of keyword/column not found. Needs update |
| BINX | 1 | migration: description of keyword/column not found. Needs update |
| BINY | 1 | migration: description of keyword/column not found. Needs update |
| ACAMREV | UVA-Astrocam v1.2r55 | migration: description of keyword/column not found. Needs update |
| OBSCMNT | None | migration: description of keyword/column not found. Needs update |
| LKSHPWR | 0.0 | migration: description of keyword/column not found. Needs update |
| TDETTOP | 74.941 | migration: description of keyword/column not found. Needs update |
| TDETBASE | 75.378 | migration: description of keyword/column not found. Needs update |
| COLPITCH | 5.817 | migration: description of keyword/column not found. Needs update |
| TTENTTOP | 83.086 | migration: description of keyword/column not found. Needs update |
| COLLM3 | 2377.976 | migration: description of keyword/column not found. Needs update |
| TCLDPMID | 77.803 | migration: description of keyword/column not found. Needs update |
| COLLM2 | 2354.858 | migration: description of keyword/column not found. Needs update |
| COLLM1 | 2494.161 | migration: description of keyword/column not found. Needs update |
| TGETTER | 76.15 | migration: description of keyword/column not found. Needs update |
| TTLMBRD | 300.247 | migration: description of keyword/column not found. Needs update |
| TLSOUTH | 76.906 | migration: description of keyword/column not found. Needs update |
| TLNORTH | 76.767 | migration: description of keyword/column not found. Needs update |
| TLSCAM2 | 78.895 | migration: description of keyword/column not found. Needs update |
| TLSCAM1 | 78.882 | migration: description of keyword/column not found. Needs update |
| TLSDETC | 74.846 | migration: description of keyword/column not found. Needs update |
| TLSDETB | 73.882 | migration: description of keyword/column not found. Needs update |
| TPGVAC | 7.332e-07 | migration: description of keyword/column not found. Needs update |
| LN2CNTRL | 0.0 | migration: description of keyword/column not found. Needs update |
| TCAMAFT | 77.249 | migration: description of keyword/column not found. Needs update |
| TCAMMID | 78.61 | migration: description of keyword/column not found. Needs update |
| COLLYAW | 17.413 | migration: description of keyword/column not found. Needs update |
| TCAMFWD | 79.011 | migration: description of keyword/column not found. Needs update |
| TEMPVPH | 78.744 | migration: description of keyword/column not found. Needs update |
| TRADSHLD | 87.264 | migration: description of keyword/column not found. Needs update |
| TCOLLIM | 79.355 | migration: description of keyword/column not found. Needs update |
| TCPCORN | 79.893 | migration: description of keyword/column not found. Needs update |
| TCLDPHNG | 79.508 | migration: description of keyword/column not found. Needs update |
| COLLPIST | 2401.243 | migration: description of keyword/column not found. Needs update |
| DITHPIX | 13.998 | migration: description of keyword/column not found. Needs update |
| RELHUM | 33.254 | migration: description of keyword/column not found. Needs update |
| LN2LEVEL | 92.316 | migration: description of keyword/column not found. Needs update |
| MKSVAC | 7.66e-07 | migration: description of keyword/column not found. Needs update |
| OBJECT | ObjName | migration: description of keyword/column not found. Needs update |
| FILTER1 | FILTER | migration: description of keyword/column not found. Needs update |
| ICSREV | APOGEE ICS2.0r031 | migration: description of keyword/column not found. Needs update |
| DSPFILE | UNKNOWN | migration: description of keyword/column not found. Needs update |
| TELESCOP | SDSS 2-5m | migration: description of keyword/column not found. Needs update |
| EXPTYPE | DOMEFLAT | migration: description of keyword/column not found. Needs update |
| LAMPQRTZ | 0 | migration: description of keyword/column not found. Needs update |
| LAMPUNE | 0 | migration: description of keyword/column not found. Needs update |
| LAMPTHAR | 0 | migration: description of keyword/column not found. Needs update |
| LAMPSHTR | 0 | migration: description of keyword/column not found. Needs update |
| LAMPCNTL | 1 | migration: description of keyword/column not found. Needs update |
| SEEING | 1.33748 | migration: description of keyword/column not found. Needs update |
| FF | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| NE | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| HGCD | 0 0 0 0 | migration: description of keyword/column not found. Needs update |
| FFS | 1 1 1 1 1 1 1 1 | migration: description of keyword/column not found. Needs update |
| OBJSYS | Mount | migration: description of keyword/column not found. Needs update |
| RA | NaN | migration: description of keyword/column not found. Needs update |
| DEC | NaN | migration: description of keyword/column not found. Needs update |
| RADEG | NaN | migration: description of keyword/column not found. Needs update |
| DECDEG | NaN | migration: description of keyword/column not found. Needs update |
| ROTPOS | 40.0 | migration: description of keyword/column not found. Needs update |
| BOREOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| BOREOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| ARCOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| ARCOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| OBJOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| OBJOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| CALOFFX | 0.00079 | migration: description of keyword/column not found. Needs update |
| CALOFFY | 0.000357 | migration: description of keyword/column not found. Needs update |
| CALOFFR | 0.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFX | 0.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFY | 0.0 | migration: description of keyword/column not found. Needs update |
| GUIDOFFR | 0.0 | migration: description of keyword/column not found. Needs update |
| AZ | 300.0 | migration: description of keyword/column not found. Needs update |
| ALT | 45.0 | migration: description of keyword/column not found. Needs update |
| IPA | 40.0 | migration: description of keyword/column not found. Needs update |
| FOCUS | 200.0 | migration: description of keyword/column not found. Needs update |
| M2PISTON | 1397.75 | migration: description of keyword/column not found. Needs update |
| M2XTILT | 13.0 | migration: description of keyword/column not found. Needs update |
| M2YTILT | 7.99 | migration: description of keyword/column not found. Needs update |
| M2XTRAN | -59.54 | migration: description of keyword/column not found. Needs update |
| M2YTRAN | 99.53 | migration: description of keyword/column not found. Needs update |
| M1PISTON | 0.0 | migration: description of keyword/column not found. Needs update |
| M1XTILT | -24.31 | migration: description of keyword/column not found. Needs update |
| M1YTILT | 11.4 | migration: description of keyword/column not found. Needs update |
| M1XTRAN | 612.32 | migration: description of keyword/column not found. Needs update |
| M1YTRAN | 1325.79 | migration: description of keyword/column not found. Needs update |
| SCALE | 1.0 | migration: description of keyword/column not found. Needs update |
| NAME | 4914-55799-02 | migration: description of keyword/column not found. Needs update |
| PLATEID | 4914 | migration: description of keyword/column not found. Needs update |
| CARTID | 3 | migration: description of keyword/column not found. Needs update |
| MAPID | 2 | migration: description of keyword/column not found. Needs update |
| POINTING | A | migration: description of keyword/column not found. Needs update |
| COMMENT | failed to make SPA card from None | migration: description of keyword/column not found. Needs update |
| CHIP | a | migration: description of keyword/column not found. Needs update |
| NREAD | 5 | migration: description of keyword/column not found. Needs update |
| V_APRED | 0.17.14 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Tue Jan 26 17:03:32 2021 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: u0914351 on notch289 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: IDL 8.4 linux x86_64 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:  APOGEE Reduction Pipeline Version: 0.17.14 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Output File: | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:  HDU1 - image (ADU) | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:  HDU2 - error (ADU) | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:  HDU3 - flag mask | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:         1 - bad pixels | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:         2 - cosmic ray | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:         4 - saturated | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D:         8 - unfixable | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Global fractional variability = 0.000 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: BAD PIXEL MASK file="/uufs/chpc.utah.edu/common/home/sdss/apogeewo | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: rk/apogee/spectro/redux/dr17/cal/bpm/apBPM-a-12910009.fits" | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Dark Current Correction file="/uufs/chpc.utah.edu/common/home/sdss | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: /apogeework/apogee/spectro/redux/dr17/cal/darkcorr/apDark-a-129100 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Flat Field Correction file="/uufs/chpc.utah.edu/common/home/sdss/a | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: pogeework/apogee/spectro/redux/dr17/cal/flatcorr/apFlat-a-04750009 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: 75665 pixels are bad | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: 0 pixels have cosmic rays | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Cosmic Rays FIXED | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: 18 pixels are saturated | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: 18 saturated pixels FIXED | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: 0 pixels are unfixable | migration: description of keyword/column not found. Needs update |
| HISTORY | AP3D: Fowler Sampling, Nfowler=1 | migration: description of keyword/column not found. Needs update |
| UT-MID | 2011-08-30T02:41:32.1 | migration: description of keyword/column not found. Needs update |
| JD-MID | 2455803.61218 | migration: description of keyword/column not found. Needs update |
| PSFFILE | /uufs/chpc.utah.edu/common/home/sdss/apogeework/apogee/spectro/redux | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D: Tue Jan 26 18:24:41 2021 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D: u0914351 on notch289 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D: IDL 8.4 linux x86_64 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  APOGEE Reduction Pipeline Version: 0.17.14 | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D: Output File: | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  HDU1 - image (ADU) | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  HDU2 - error (ADU) | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  HDU3 - flag mask | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:         0 - good pixels | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:         1 - bad pixels | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  HDU4 - wavelengths (Ang) | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D:  HDU5 - wavelength coefficients | migration: description of keyword/column not found. Needs update |
| HISTORY | AP2D: Extract_type=4 - Using Empirical PSF Extraction | migration: description of keyword/column not found. Needs update |
| EXTRTYPE | 4 | migration: description of keyword/column not found. Needs update |
| OBSTYPE | FLUXCORR | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: Tue Jan 26 18:52:34 2021 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: u0914351 on notch289 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: IDL 8.4 linux x86_64 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL:  APOGEE Reduction Pipeline Version: 0.17.14 | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: Output File: | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL:  HDU1 - Relative Flux Calibration [Npix,Nfibers,3] | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL:  HDU2 - Throughput [Nfibers,3] | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: File="/uufs/chpc.utah.edu/common/home/sdss/apogeework/apoge | migration: description of keyword/column not found. Needs update |
| HISTORY | APMKFLUXCAL: e/spectro/redux/dr17/exposures/apogee-n/55803/02410055" | migration: description of keyword/column not found. Needs update |
| HISTORY | LAMPTYPE=DOMEFLAT | migration: description of keyword/column not found. Needs update |



### HDU1: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  2 MB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| NAXIS2 | 300 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| CTYPE1 | Pixel | migration: description of keyword/column not found. Needs update |
| CTYPE2 | Fiber | migration: description of keyword/column not found. Needs update |
| CTYPE3 | Chip | migration: description of keyword/column not found. Needs update |
| BUNIT | Relative Flux | migration: description of keyword/column not found. Needs update |



### HDU2: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  1 KB

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 1 | number of array dimensions |
| NAXIS1 | 300 | length of dimension 1 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| CTYPE1 | Fiber | migration: description of keyword/column not found. Needs update |
| CTYPE2 | Chip | migration: description of keyword/column not found. Needs update |
| BUNIT | Throughput | migration: description of keyword/column not found. Needs update |



### HDU3: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  8 KB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 1 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| CTYPE1 | Pixel | migration: description of keyword/column not found. Needs update |
| CTYPE3 | Chip | migration: description of keyword/column not found. Needs update |
| BUNIT | Relative Flux | migration: description of keyword/column not found. Needs update |



### HDU4: 
<b>
Example header:
</b>

#### HDU Type: IMAGE
#### HDU Size:  8 KB

##### Header Table Caption for HDU4
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | IMAGE | binary table extension |
| BITPIX | -32 | array data type |
| NAXIS | 1 | number of array dimensions |
| NAXIS1 | 2048 | length of dimension 1 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| CTYPE1 | Pixel | migration: description of keyword/column not found. Needs update |
| CTYPE3 | Chip | migration: description of keyword/column not found. Needs update |
| BUNIT | Relative Flux | migration: description of keyword/column not found. Needs update |


