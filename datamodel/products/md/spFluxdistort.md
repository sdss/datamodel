# Data Model: spFluxdistort


flux distortion


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)

---

## Basic Information
This file contains the flux distortion image.

### Naming Convention
spFluxdistort-pppp-mmmmm.fits, where pppp is the plate number and mmmmm is the MJD.

### Releases
DR9, DR10, DR12, DR11, DR13, DR14, DR15, DR16, DR17, WORK

### Enviroments
BOSS_SPECTRO_REDUX

### Approximate Size
17 MB

### File Type
FITS

### Generated by Product
spec2d (spcoadd_v5.pro)

### HDUS List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: DR17
   - primary_delta_nkeys: 44
   - added_primary_header_kwargs: ['SNC11G00', 'ROFFGAL', 'EXPID04', 'GROFFGAL', 'IOFFGAL', 'RIOFFGAL', 'WDISPR', 'GRMSGAL', 'SRVYMODE', 'SNC11I01', 'DEWPOINT', 'EXPID03', 'V_GUIDER', 'NGAL', 'SN2_1G00', 'EXPID02', 'GOFFGAL', 'AVGASH0', 'SNC01G01', 'SNC11G01', 'STDASH0', 'WINDD25M', 'SNC11I00', 'SN2ILIST', 'SNC11I', 'SIGBSH0', 'SN2_1R00', 'SNC11R00', 'HUMIDITY', 'M2ZROT', 'STDBSH0', 'WINDS25M', 'AVGBSH0', 'MGDDEC', 'FIELDID', 'SN2_1I00', 'IONPUMP', 'MGDRA', 'CCDTEMP', 'RRMSGAL', 'SN2GLIST', 'SN2_1I01', 'TRUSTEMP', 'WINDS', 'SNC01R01', 'V_BOSS', 'SNC01R', 'EXPID01', 'SNC01I01', 'SNC01G', 'CENBSH0', 'GRRMSGAL', 'RIRMSGAL', 'SNC01I', 'WINDD', 'GUSTS', 'DUSTB', 'DIDFLUSH', 'SN2_1R01', 'PRESSURE', 'SNC11G', 'PFERR', 'SN2RLIST', 'V_APO', 'GUSTD', 'LN2TEMP', 'V_SOP', 'M1ZROT', 'SUBFRAME', 'DUSTA', 'SNC11R', 'SLITID1', 'TAILIST', 'SNC01R00', 'SNC01I00', 'SNC11R01', 'AIRTEMP', 'MGDPOS', 'PLATETYP', 'SN2_1G01', 'IRMSGAL', 'SNC01G00']
   - removed_primary_header_kwargs: ['EXPID008', 'MC2TBCB', 'SPEC2_R', 'EXPT_R2', 'EXPID016', 'EXPID001', 'SN2EXT2G', 'DAQVER', 'EXPID014', 'SPEC2_I', 'SN2EXT2R', 'EXPID013', 'EXPID006', 'OBJOFFX', 'MC2TBCT', 'EXPID005', 'EXPID010', 'EXPID003', 'MC2HUMHT', 'EXPID004', 'EXPID009', 'SPEC2_G', 'MC2HUMCO', 'EXPID015', 'MC2THT', 'SN2EXT2I', 'OBJOFFY', 'MC2TRCB', 'EXPID012', 'MC2TRCT', 'MC2TEMDN', 'NEXP_B2', 'BOSSVER', 'EXPID007', 'NEXP_R2', 'EXPID002', 'EXPT_B2', 'EXPID011']
 - DR17
   - from: DR16
   - note: No changes
 - DR16
   - from: DR15
   - added_primary_header_kwargs: ['EXPID009', 'EXPID014', 'EXPID008', 'EXPID015', 'EXPID013', 'EXPID010', 'EXPID005', 'EXPID003', 'EXPID007', 'EXPID002', 'EXPID006', 'EXPID011', 'EXPID012', 'EXPID016', 'EXPID001', 'EXPID004']
   - removed_primary_header_kwargs: ['EXPID16', 'EXPID04', 'EXPID15', 'EXPID06', 'EXPID14', 'EXPID03', 'EXPID11', 'EXPID12', 'EXPID09', 'EXPID13', 'EXPID02', 'EXPID05', 'EXPID08', 'EXPID07', 'EXPID01', 'EXPID10']
 - DR15
   - from: DR14
   - note: No changes
 - DR14
   - from: DR13
   - note: No changes
 - DR13
   - from: DR11
   - primary_delta_nkeys: 2
   - removed_primary_header_kwargs: ['XCHI2MIN', 'XCHI2MAX']
 - DR11
   - from: DR12
   - note: No changes
 - DR12
   - from: DR10
   - note: No changes
 - DR10
   - from: DR9
   - note: No changes

---
## Example HDUS List

### HDU0: PRIMARY
Image with the flux distortion vector for each fiber.

#### HDU Type: IMAGE
#### HDU Size:  8 MB

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | -32 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 4648 |  |
| NAXIS2 | 500 |  |
| EXTEND | True |  |
| TELESCOP | SDSS 2.5-M | Sloan Digital Sky Survey |
| NGUIDE | 34.0 | Number of guider frames during exposure |
| SEEING20 | 1.48135 | 20% seeing during exposure (arcsec) |
| SEEING50 | 1.59665 | 50% seeing during exposure (arcsec) |
| SEEING80 | 1.7449 | 80% seeing during exposure (arcsec) |
| RMSOFF20 | 0.009594595 | 20% RMS offset of guide fibers (arcsec) |
| RMSOFF50 | 0.01572115 | 50% RMS offset of guide fibers (arcsec) |
| RMSOFF80 | 0.0232258 | 80% RMS offset of guide fibers (arcsec) |
| V_BOSS | 5.0.1 | Active version of the BOSS ICC |
| CAMDAQ | 1.5.0:37 |  |
| SUBFRAME |  | the subframe readout command |
| ERRCNT | NONE |  |
| SYNCERR | NONE |  |
| SLINES | NONE |  |
| PIXERR | NONE |  |
| PLINES | NONE |  |
| PFERR | NONE |  |
| DIDFLUSH | True | CCD was flushed before integration |
| FLAVOR | science | exposure type, SDSS spectro style |
| MJD | 59146 | APO fMJD day at start of exposure |
| MJDLIST | 59146 |  |
| TAILIST | 5.1102429e+09 5.1102439e+09 |  |
| SN2GLIST | 4.119654.11965 |  |
| SN2RLIST | 10.962510.9625 |  |
| SN2ILIST | 8.015278.01527 |  |
| TAI-BEG | 5110242475.0 | MJD(TAI) seconds at start of integration |
| DATE-OBS | 2020-10-24T07:47:55 | TAI date at start of integration |
| V_GUIDER | 3.8.1 | version of the current guiderActor |
| V_SOP | 4.0.1dev | version of the current sopActor |
| NAME | 15000-59144-02 | The name of the currently loaded plate |
| PLATEID | 15000 | The currently loaded plate |
| TILEID | -1 | Cartridge used in this plugging |
| CARTID | 2 | Cartridge used in this plugging |
| MAPID | 2 | The mapping version of the loaded plate |
| POINTING | A | The currently specified pointing |
| PLATETYP | BHM&MWM | Type of plate (e.g. BOSS, MANGA, APOGEE, APOGEE |
| SRVYMODE | BHM lead | Survey leading this observation and its mode |
| OBJSYS | ICRS | The TCC objSys |
| RA | 35.706122 | RA of telescope boresight (deg) |
| DEC | -5.04911 | Dec of telescope boresight (deg) |
| EQUINOX | 2000.0 |  |
| RADECSYS | FK5 |  |
| RADEG | 35.7083 | RA of telescope pointing(deg) |
| DECDEG | -5.05 | Dec of telescope pointing (deg) |
| ROTPOS | 0.0 | Rotator request position (deg) |
| BOREOFFX | 0.0 | TCC Boresight offset, deg |
| BOREOFFY | 0.0 | TCC Boresight offset, deg |
| ARCOFFX | -0.00217 | TCC ObjArcOff, deg |
| ARCOFFY | 0.000889999999999999 | TCC ObjArcOff, deg |
| CALOFFX | 0.0 | TCC CalibOff, deg |
| CALOFFY | 0.0 | TCC CalibOff, deg |
| CALOFFR | 0.0 | TCC CalibOff, deg |
| GUIDOFFX | 0.0 | TCC GuideOff, deg |
| GUIDOFFY | 0.0 | TCC GuideOff, deg |
| GUIDOFFR | -0.028163 | TCC GuideOff, deg |
| AZ | -16.4816095 | Azimuth axis pos. (approx, deg) |
| ALT | 50.985913 | Altitude axis pos. (approx, deg) |
| AIRMASS | 1.28902 |  |
| FOCUS | 2878.5359 | User-specified focus offset (um) |
| M2PISTON | 2788.42 | TCC SecOrient |
| M2XTILT | -11.32 | TCC SecOrient |
| M2YTILT | -4.45 | TCC SecOrient |
| M2XTRAN | 16.21 | TCC SecOrient |
| M2YTRAN | -2.11 | TCC SecOrient |
| M2ZROT | -15.14 | TCC SecOrient |
| M1PISTON | -1044.81 | TCC PrimOrient |
| M1XTILT | 69.89 | TCC PrimOrient |
| M1YTILT | 100.0 | TCC PrimOrient |
| M1XTRAN | 374.52 | TCC PrimOrient |
| M1YTRAN | 622.11 | TCC PrimOrient |
| M1ZROT | -0.06 | TCC PrimOrient |
| SCALE | 1.000106 | User-specified scale factor |
| V_APO | v1_11 | version of the current apoActor |
| PRESSURE | 21.5685 |  |
| WINDD | 253.0 |  |
| WINDS | 13.95 |  |
| GUSTD | 235.0 |  |
| GUSTS | 17.65 |  |
| AIRTEMP | 0.0 | failed to index KeyVar('apo', airTempPT=(None,) |
| DEWPOINT | 0.0 | failed to index KeyVar('apo', dpTempPT=(None,)) |
| TRUSTEMP | NaN | failed to index KeyVar('apo', truss25m=(None,)) |
| HUMIDITY | 54.4 |  |
| DUSTA | 39386.0 |  |
| DUSTB | 1775.0 |  |
| WINDD25M | NaN | failed to index KeyVar('apo', windd25m=(None,)) |
| WINDS25M | NaN | failed to index KeyVar('apo', winds25m=(None,)) |
| MGDPOS | C | MaNGA dither position (C,N,S,E) |
| MGDRA | 0.0 | MaNGA decenter in RA, redundant with MGDPOS |
| MGDDEC | 0.0 | MaNGA decenter in Dec, redundant with MGDPOS |
| GUIDER1 | proc-gimg-0499.fits.gz | The first guider image |
| SLITID1 | 2 | Normalized slithead ID. sp1&2 should match. |
| GUIDERN | proc-gimg-0532.fits.gz | The last guider image |
| COLLA | 14207 | The position of the A collimator motor |
| COLLB | 15358 | The position of the B collimator motor |
| COLLC | 14781 | The position of the C collimator motor |
| HARTMANN | Out | Hartmanns: Left,Right,Out |
| MC1HUMHT | 9.5 | sp1 mech Hartmann humidity, % |
| MC1HUMCO | -4.6 | sp1 mech Central optics humidity, % |
| MC1TEMDN | 5.8 | sp1 mech Median temp, C |
| MC1THT | 5.7 | sp1 mech Hartmann Top Temp, C |
| MC1TRCB | 5.8 | sp1 mech Red Cam Bottom Temp, C |
| MC1TRCT | 6.4 | sp1 mech Red Cam Top Temp, C |
| MC1TBCB | 5.8 | sp1 mech Blue Cam Bottom Temp, C |
| MC1TBCT | 6.1 | sp1 mech Blue Cam Top Temp, C |
| NEXP | 4 | Number of exposures in this file |
| BESTEXP | 318676 |  |
| EXPID01 | b1-00318676-00318675-00318674 | ID string for exposure 1 |
| EXPID02 | b1-00318677-00318675-00318674 | ID string for exposure 2 |
| EXPID03 | r1-00318676-00318675-00318674 | ID string for exposure 3 |
| EXPID04 | r1-00318677-00318675-00318674 | ID string for exposure 4 |
| NEXP_B1 | 2 | b1 camera number of exposures |
| NEXP_R1 | 2 | r1 camera number of exposures |
| EXPT_B1 | 1800.13 | b1 camera exposure time (seconds) |
| EXPT_R1 | 1800.13 | r1 camera exposure time (seconds) |
| EXPTIME | 1800.13 | Minimum of exposure times for all cameras |
| SPCOADD | Tue Oct 12 20:07:31 2021 | SPCOADD finished |
| SHOPETIM | 0.75 | open shutter transit time, s |
| SHCLOTIM | 0.55 | close shutter transit time, s |
| LN2TEMP | 94.922 |  |
| CCDTEMP | -99.609 |  |
| IONPUMP | -6.56 |  |
| AUTHOR | Scott Burles & David Schlegel |  |
| VERSIDL | 8.7.2 | Version of IDL |
| VERSUTIL | v5_5_17 | Version of idlutils |
| VERSREAD | v6_0_4 | Version of idlspec2d for pre-processing raw dat |
| VERS2D | v6_0_4 | Version of idlspec2d for 2D reduction |
| VERSCOMB | v6_0_4 | Version of idlspec2d for combining multiple spe |
| VERSLOG | trunk 27531 | Version of SPECLOG product |
| VERSFLAT | v1_32 | Version of SPECFLAT product |
| TWOPHASE | False |  |
| RDNOISE0 | 1.98811 | CCD read noise amp 0 [electrons] |
| BADPIXEL | badpixels-58736-b1.fits.gz |  |
| RUN2D | v6_0_4 | Spectro-2D reduction name |
| TAI-END | 5110244376.06 |  |
| REDDEN01 | 0.1048 | Median extinction in u-band |
| REDDEN02 | 0.0817 | Median extinction in g-band |
| REDDEN03 | 0.0565 | Median extinction in r-band |
| REDDEN04 | 0.042 | Median extinction in i-band |
| REDDEN05 | 0.0312 | Median extinction in z-band |
| XSIGMA | 1.08484 |  |
| XSIGMIN | 1.05938 |  |
| XSIGMAX | 1.11029 |  |
| WSIGMA | 1.11202 |  |
| WSIGMIN | 1.11125 |  |
| WSIGMAX | 1.11279 |  |
| WDISPR | 3.13718 |  |
| PLUGFILE | plPlugMapM-15000-59144-02.par |  |
| LAMPLIST | lamphgcdne.dat |  |
| SKYLIST | skylines.dat |  |
| SIGBSH0 | 0.039 | 5577.3 line gaussian fit sigma position before |
| CENBSH0 | -0.161 | 5577.3 line gaussian fit center position before |
| AVGBSH0 | -0.168 | 5577.3 line average position before shift (pixe |
| STDBSH0 | 0.037 | 5577.3 line std position before shift (pixels) |
| AVGASH0 | 0.005 | 5577.3 line average position after shift (pixel |
| STDASH0 | 0.017 | 5577.3 line std position after shift (pixels) |
| HELIO_RV | 0.288064313734 | Heliocentric correction (added to velocities) |
| VACUUM | True | Wavelengths are in vacuum |
| SFLATTEN | True | Superflat has been applied |
| PSFSKY | 3 | Order of PSF skysubtraction |
| SKYCHI2 | 0.909527795469 | Mean chi^2 of sky-subtraction |
| SCHI2MIN | 0.894394737494 |  |
| SCHI2MAX | 0.933284150933 |  |
| PREJECT | 0.2 | Profile area rejection threshold |
| SPEC1_G | 7.331 | (S/N)^2 for spec  1 at mag 21.20 |
| SN2EXT1G | 7.331 | Extinction corrected (S/N)^2 |
| SPEC1_R | 19.46 | (S/N)^2 for spec  1 at mag 20.20 |
| SN2EXT1R | 19.46 | Extinction corrected (S/N)^2 |
| SPEC1_I | 14.1006 | (S/N)^2 for spec  1 at mag 20.20 |
| SN2EXT1I | 14.1006 | Extinction corrected (S/N)^2 |
| NSTD | 66 | Number of (good) std stars |
| GOFFSTD | 0.0107937 | Spectrophoto offset for std stars in G-band |
| GRMSSTD | 0.10033 | Spectrophoto RMS for std stars in G-band |
| ROFFSTD | -0.0133209 | Spectrophoto offset for std stars in R-band |
| RRMSSTD | 0.0709903 | Spectrophoto RMS for std stars in R-band |
| IOFFSTD | -0.0125561 | Spectrophoto offset for std stars in I-band |
| IRMSSTD | 0.0951723 | Spectrophoto RMS for std stars in I-band |
| GROFFSTD | 0.0165138 | Spectrophoto offset for std stars in (GR) |
| GRRMSSTD | 0.0887143 | Spectrophoto RMS for std stars in (GR) |
| RIOFFSTD | -0.0109978 | Spectrophoto offset for std stars in (RI) |
| RIRMSSTD | 0.0595036 | Spectrophoto RMS for std stars in (RI) |
| NGAL | 427 | Number of (good) main galaxies |
| GOFFGAL | 0.044817 | Spectrophoto offset for main galaxies in G-band |
| GRMSGAL | 0.216829 | Spectrophoto RMS for main galaxies in G-band |
| ROFFGAL | 0.0166264 | Spectrophoto offset for main galaxies in R-band |
| RRMSGAL | 0.190474 | Spectrophoto RMS for main galaxies in R-band |
| IOFFGAL | -0.0142365 | Spectrophoto offset for main galaxies in I-band |
| IRMSGAL | 0.191923 | Spectrophoto RMS for main galaxies in I-band |
| GROFFGAL | 0.0245438 | Spectrophoto offset for main galaxies in (GR) |
| GRRMSGAL | 0.118073 | Spectrophoto RMS for main galaxies in (GR) |
| RIOFFGAL | 0.0299149 | Spectrophoto offset for main galaxies in (RI) |
| RIRMSGAL | 0.0950445 | Spectrophoto RMS for main galaxies in (RI) |
| SNC01G00 | 1.57442 | SN fit coeff for spec 1, exp 00 at G-band |
| SNC11G00 | 3.28619 | SN fit coeff for spec 1, exp 00 at G-band |
| SN2_1G00 | 4.11965 | (S/N)^2 for spec  1, exp 00 at mag 21.20 at G-b |
| SNC01R00 | 1.63528 | SN fit coeff for spec 1, exp 00 at R-band |
| SNC11R00 | 8.55852 | SN fit coeff for spec 1, exp 00 at R-band |
| SN2_1R00 | 10.9625 | (S/N)^2 for spec  1, exp 00 at mag 20.20 at R-b |
| SNC01I00 | 1.53768 | SN fit coeff for spec 1, exp 00 at I-band |
| SNC11I00 | 12.0911 | SN fit coeff for spec 1, exp 00 at I-band |
| SN2_1I00 | 8.01527 | (S/N)^2 for spec  1, exp 00 at mag 20.20 at I-b |
| SNC01G01 | 1.49942 | SN fit coeff for spec 1, exp 01 at G-band |
| SNC11G01 | 4.51567 | SN fit coeff for spec 1, exp 01 at G-band |
| SN2_1G01 | 3.14956 | (S/N)^2 for spec  1, exp 01 at mag 21.20 at G-b |
| SNC01R01 | 1.556 | SN fit coeff for spec 1, exp 01 at R-band |
| SNC11R01 | 11.6142 | SN fit coeff for spec 1, exp 01 at R-band |
| SN2_1R01 | 8.40368 | (S/N)^2 for spec  1, exp 01 at mag 20.20 at R-b |
| SNC01I01 | 1.45672 | SN fit coeff for spec 1, exp 01 at I-band |
| SNC11I01 | 16.059 | SN fit coeff for spec 1, exp 01 at I-band |
| SN2_1I01 | 6.0225 | (S/N)^2 for spec  1, exp 01 at mag 20.20 at I-b |
| SNC01G | 2.1747 | Total SN fit coeff for spec 1 at G-band |
| SNC11G | 3.76217 | Total SN fit coeff for spec 1 at G-band |
| SNC01R | 2.25629 | Total SN fit coeff for spec 1 at R-band |
| SNC11R | 9.78102 | Total SN fit coeff for spec 1 at R-band |
| SNC01I | 2.11134 | Total SN fit coeff for spec 1 at I-band |
| SNC11I | 13.5538 | Total SN fit coeff for spec 1 at I-band |
| LOWREJ | 4 | Extraction: low rejection |
| HIGHREJ | 50 | Extraction: high rejection |
| SCATPOLY | 0 | Extraction: Order of scattered light polynomial |
| PROFTYPE | 1 | Extraction profile: 1=Gaussian |
| NFITPOLY | 1 | Extraction: Number of parameters in each profil |
| XCHI2 | 0.0 | Extraction: Mean chi^2 |
| FIELDID | 15000 |  |
| NWORDER | 2 | Linear-log10 coefficients |
| COEFF0 | 3.5523 | Central wavelength (log10) of first pixel |
| COEFF1 | 0.0001 | Log10 dispersion per pixel |
| UNAME | notch290 |  |
| FBADPIX | 0.0080994 | Fraction of bad pixels |
| FBADPIX1 | 0.0080994 | Fraction of bad pixels on spectro-1 |
| FBADPIX2 | 0 | Fraction of bad pixels on spectro-2 |
| WAT0_001 | system=linear |  |
| WAT1_001 | wtype=linear label=Wavelength units=Angstroms |  |
| CRVAL1 | 3.5523 | Central wavelength (log10) of first pixel |
| CD1_1 | 0.0001 | Log10 dispersion per pixel |
| CRPIX1 | 1 | Starting pixel (1-indexed) |
| CTYPE1 | LINEAR |  |
| DC-FLAG | 1 | Log-linear flag |


