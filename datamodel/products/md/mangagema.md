# Data Model: mangagema


migration: needs update


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDU List](#example-hdu-list)


---

## Basic Information
This file contains the quantification of the environment for MaNGA galaxies in the DR15.

### Naming Convention
<code>GEMA.fits</code>.

### Releases
DR15, DR16, DR17

### Enviroments
MANGA_GEMA

### Approximate Size
3 MB

### File Type
FITS

### Generated by Product
Maria Argudo-Fernández

### HDU List for release DR17
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: DR17_param_completeness_footprint](#hdu1-dr17_param_completeness_footprint)
  - [HDU2: DR17_param_1Mpc_all](#hdu2-dr17_param_1mpc_all)
  - [HDU3: DR17_param_1Mpc_002](#hdu3-dr17_param_1mpc_002)
  - [HDU4: DR17_param_1Mpc_006](#hdu4-dr17_param_1mpc_006)
  - [HDU5: DR17_param_1Mpc_010](#hdu5-dr17_param_1mpc_010)
  - [HDU6: DR17_param_1Mpc_015](#hdu6-dr17_param_1mpc_015)
  - [HDU7: DR17_param_5Mpc_all](#hdu7-dr17_param_5mpc_all)
  - [HDU8: DR17_param_5Mpc_002](#hdu8-dr17_param_5mpc_002)
  - [HDU9: DR17_param_5Mpc_006](#hdu9-dr17_param_5mpc_006)
  - [HDU10: DR17_param_5Mpc_010](#hdu10-dr17_param_5mpc_010)
  - [HDU11: DR17_param_5Mpc_015](#hdu11-dr17_param_5mpc_015)
  - [HDU12: DR17_param_pairs](#hdu12-dr17_param_pairs)
  - [HDU13: DR17_param_groups](#hdu13-dr17_param_groups)
  - [HDU14: DR17_param_overdensity](#hdu14-dr17_param_overdensity)
  - [HDU15: DR17_param_LSS](#hdu15-dr17_param_lss)


---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - DR17
   - from: DR16
   - added_hdus: ['DR17_param_5Mpc_006', 'DR17_param_completeness_footprint', 'DR17_param_1Mpc_015', 'DR17_param_5Mpc_all', 'DR17_param_1Mpc_010', 'DR17_param_LSS', 'DR17_param_5Mpc_015', 'DR17_param_pairs', 'DR17_param_1Mpc_all', 'DR17_param_groups', 'DR17_param_1Mpc_002', 'DR17_param_5Mpc_010', 'DR17_param_overdensity', 'DR17_param_1Mpc_006', 'DR17_param_5Mpc_002']
   - removed_hdus: ['MPL6_param_5Mpc_all', 'MPL6_param_pairs', 'MPL6_param_1Mpc_010', 'MPL6_param_completeness_footprint', 'MPL6_param_1Mpc_all', 'MPL6_param_groups', 'MPL6_param_1Mpc_002', 'MPL6_param_overdensity', 'MPL6_param_LSS', 'MPL6_param_5Mpc_010', 'MPL6_param_5Mpc_015', 'MPL6_param_1Mpc_006', 'MPL6_param_5Mpc_006', 'MPL6_param_1Mpc_015', 'MPL6_param_5Mpc_002']
 - DR16
   - from: DR15
   - note: No changes

---
## Example HDU List


### HDU0: PRIMARY
The data in this primary HDU consists of bytes which comprise a VOTABLE document.
The VOTable describes the metadata of the tables contained in the following BINTABLE extensions.
Such a BINTABLE extension can be used on its own as a perfectly good table, but the information from this HDU may provide some useful additional metadata.
There are 15 following BINTABLEs.

#### HDU Type: IMAGE
#### HDU Size:  17 KB

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 8 | array data type |
| NAXIS | 1 | number of array dimensions |
| NAXIS1 | 17443 | length of dimension 1 |
| VOTMETA | True | Table metadata in VOTable format |
| EXTEND | True |  |
| COMMENT |  | migration: description of keyword/column not found. Needs update |
| COMMENT | The data in this primary HDU consists of bytes which | migration: description of keyword/column not found. Needs update |
| COMMENT | comprise a VOTABLE document. | migration: description of keyword/column not found. Needs update |
| COMMENT | The VOTable describes the metadata of the tables contained | migration: description of keyword/column not found. Needs update |
| COMMENT | in the following BINTABLE extensions. | migration: description of keyword/column not found. Needs update |
| COMMENT | Such a BINTABLE extension can be used on its own as a perfectly | migration: description of keyword/column not found. Needs update |
| COMMENT | good table, but the information from this HDU may provide some | migration: description of keyword/column not found. Needs update |
| COMMENT | useful additional metadata. | migration: description of keyword/column not found. Needs update |
| COMMENT | There are 15 following BINTABLEs. | migration: description of keyword/column not found. Needs update |
| NTABLE | 15 | Number of following BINTABLE HDUs |



### HDU1: DR17_param_completeness_footprint
Redshift completeness and survey footprint within 1Mpc and 5Mpc projected distance.

#### HDU Type: BINARY TABLE
#### HDU Size:  206 KB

##### Binary Table Caption for HDU1
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | ZCOMP_1MPC | float32 | migration: unit of keyword/column not found. Needs update | Redshift completeness in 1 Mpc field radius |
 | ZCOMP_5MPC | float32 | migration: unit of keyword/column not found. Needs update | Redshift completeness in 5 Mpc field radius |
 | FOOTPRINT_1 | int16 | migration: unit of keyword/column not found. Needs update | migration: description of keyword/column not found. Needs update |
 | FOOTPRINT_5 | int16 | migration: unit of keyword/column not found. Needs update | migration: description of keyword/column not found. Needs update |



### HDU2: DR17_param_1Mpc_all
Characterization of the LSS environment by all neighbours within 500 km/s line-of-sight velocity difference up to 1 Mpc projected distance (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU2
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU3: DR17_param_1Mpc_002
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 1 Mpc projected distance in a volume limited sample up to z < 0.02 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU3
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU4: DR17_param_1Mpc_006
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 1 Mpc projected distance in a volume limited sample up to z < 0.06 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU4
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU5: DR17_param_1Mpc_010
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 1 Mpc projected distance in a volume limited sample up to z < 0.10 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU5
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU6: DR17_param_1Mpc_015
[Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 1 Mpc projected distance in a volume limited sample up to z < 0.15 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU6
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU7: DR17_param_5Mpc_all
Characterization of the LSS environment by all neighbours within 500 km/s line-of-sight velocity difference up to 5 Mpc projected distance (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU7
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU8: DR17_param_5Mpc_002
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 5 Mpc projected distance in a volume limited sample up to z < 0.02 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU8
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU9: DR17_param_5Mpc_006
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 5 Mpc projected distance in a volume limited sample up to z < 0.06 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU9
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU10: DR17_param_5Mpc_010
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 5 Mpc projected distance in a volume limited sample up to z < 0.10 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU10
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU11: DR17_param_5Mpc_015
Characterization of the LSS environment by all the neighbours within 500 km/s line-of-sight velocity difference up to 5 Mpc projected distance in a volume limited sample up to z < 0.15 (following the methodology in Argudo-Fernández et al. 2015).

#### HDU Type: BINARY TABLE
#### HDU Size:  502 KB

##### Binary Table Caption for HDU11
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of LSS associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest neighbour |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest neighbour |
 | Q_LSS | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the LSS |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest neighbour |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest neighbour |



### HDU12: DR17_param_pairs
Environmental influence of galaxies in pairs (following the methodology in Argudo-Fernández et al. 2015). Pairs identified by the MaNGA-mergers working group.

#### HDU Type: BINARY TABLE
#### HDU Size:  38 KB

##### Binary Table Caption for HDU12
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | P_MERGER | float32 | migration: unit of keyword/column not found. Needs update | migration: description of keyword/column not found. Needs update |
 | QPAIR | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the pair galaxy |
 | DIST | float64 | kpc | Projected dostance to the pair galaxy |
 | DELTAVEL | float64 | km s-1 | Line-of-sight velocity difference with the pair galaxy |



### HDU13: DR17_param_groups
Environemtal influence of galaxies in groups (following the methodology in Argudo-Fernández et al. 2015), using the catalogue of groups of Yang et al.

#### HDU Type: BINARY TABLE
#### HDU Size:  538 KB

##### Binary Table Caption for HDU13
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | BG | int16 | migration: unit of keyword/column not found. Needs update | Brightest galaxy = 1; other galaxies in group = 2 |
 | MG | int16 | migration: unit of keyword/column not found. Needs update | Most massive galaxy (M_stellar) = 1; other galaxies in group = 2 |
 | GROUPSIZE | int16 | migration: unit of keyword/column not found. Needs update | Number of galaxies in the group |
 | NNEIGH | int16 | migration: unit of keyword/column not found. Needs update | Number of group associations |
 | Q_NN | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the 1st nearest group galaxy |
 | DNN | float64 | Mpc | Projected distance to the 1st nearest group galaxy |
 | Q_GROUP | float64 | migration: unit of keyword/column not found. Needs update | Tidal strength of the group galaxies |
 | ETA_K | float64 | migration: unit of keyword/column not found. Needs update | Projected density to the 5th nearest group galaxy |
 | DKN | float64 | Mpc | Projected distance to the 5th nearest group galaxy |



### HDU14: DR17_param_overdensity
Local density environment to the 5th nearest neighbour, corrected by mean overdensity using the correction in Etherington and Thomas 2015.

#### HDU Type: BINARY TABLE
#### HDU Size:  86 KB

##### Binary Table Caption for HDU14
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[11] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | OVERDENSITY | float64 | migration: unit of keyword/column not found. Needs update | Overdensity to the 5th nearest neighbour |
 | LOCAL_DENSITY | float64 | migration: unit of keyword/column not found. Needs update | Corrected local density to the 5th nearest neighbour |



### HDU15: DR17_param_LSS
Characterisation of the LSS by Wang et al.
t1,t2,t3 are eigen values of the tidal tensor along the major, intermediate and minor axes at the position of the galaxy. By definition t1>t2>t3. The eigenvalues can be used to classify the large scale environment (Hahn et al. 2007).
* If T1>0,T2>0,T3>0, then the galaxies are in cluster environment.
* If T1>0,T2>0,T3<0, filament environment.
* If T1>0,T2<0,T3<0, sheet environment.
* If T1<0,T2<0,T3<0, void environment.
x_major, y_major, z_major show the 3-d direction of the major axis of the eigenvector of the tidal tensor. x_minor, y_minor, z_minor show the 3-d direction of the minor axis of the eigenvector of the tidal tensor. Where
* x_major^2+y_major^2+z_major^2=1
* x_minor^2+y_minor^2+z_minor^2=1
* x_major*x_minor+y_major*y_minor+z_major*z_minor=0
Major axis is perpendicular to minor axis, and the intermediate axis is perpendicular to these two axes.

#### HDU Type: BINARY TABLE
#### HDU Size:  1 MB

##### Binary Table Caption for HDU15
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | MANGAID | char[9] | migration: unit of keyword/column not found. Needs update | MaNGA ID |
 | MH | float32 | log10(M_sun) | Halo mass |
 | DEN1 | float64 | migration: unit of keyword/column not found. Needs update | Average local density within 1Mpc |
 | DEN2 | float64 | migration: unit of keyword/column not found. Needs update | Average local density within 2Mpc |
 | DEN3 | float64 | migration: unit of keyword/column not found. Needs update | Average local density within 3Mpc |
 | T1 | float64 | migration: unit of keyword/column not found. Needs update | Eigen values of the tidal tensor along the major axes |
 | T2 | float64 | migration: unit of keyword/column not found. Needs update | Eigen values of the tidal tensor along the intermediate axes |
 | T3 | float64 | migration: unit of keyword/column not found. Needs update | Eigen values of the tidal tensor along the minor axes |
 | X_MAJOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the major axis of the eigenvector |
 | Y_MAJOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the major axis of the eigenvector |
 | Z_MAJOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the major axis of the eigenvector |
 | X_MINOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the minor axis of the eigenvector |
 | Y_MINOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the minor axis of the eigenvector |
 | Z_MINOR | float64 | migration: unit of keyword/column not found. Needs update | 3-d direction of the minor axis of the eigenvector |


