# Data Model: mwmStar


BOSS and/or APOGEE spectra for a single star. These are the data produced before analysis by any of the astra pipelines.


## Contents
- [Basic Information](#basic-information)
- [Changelog](#changelog)
- [Example HDUS List](#example-hdus-list)
- [Notes](#notes)

---

## Basic Information
mwmStar contains all stacked spectra for a MWM source. This includes a stacked optical BOSS spectrum, and a stacked infrared spectrum from the APOGEE instrument at Apache Point Observatory, and a stacked infrared spectrum from the APOGEE instrument on the du Pont telescope at Las Campanas Observatory. Currently we do not stack spectra from different APOGEE instruments because of their different line spread function profiles. Stacked spectra from each telescope/instrument combination are stored in their own HDU (see mwmVisit HDU definition).

### Naming Convention
$MWM_ASTRA/[ASTRA_VERSION]/[RUN2D]-[APRED]/spectra/star/[CATALOGID_GROUPS]/mwmStar-[ASTRA_VERSION]-[CATALOGID].fits

### Releases
IPL1, IPL2, WORK

### Enviroments
MWM_ASTRA

### Approximate Size
303 KB

### File Type
FITS

### Generated by Product
astra

### Is a VAC
False

### HDUS List for release WORK
  - [HDU0: PRIMARY](#hdu0-primary)
  - [HDU1: BOSS/APO](#hdu1-boss/apo)
  - [HDU2: BOSS/LCO](#hdu2-boss/lco)
  - [HDU3: APOGEE/APO](#hdu3-apogee/apo)
  - [HDU4: APOGEE/LCO](#hdu4-apogee/lco)

---

## Changelog
Describes changes to the datamodel product and/or file structure from one release to another
 - WORK
   - from: IPL2
   - primary_delta_nkeys: 3
   - removed_primary_header_kwargs: ['CAT_ID10', 'CAT_ID05', 'V_XMATCH']
 - IPL2
   - from: IPL1
   - primary_delta_nkeys: 11
   - added_primary_header_kwargs: ['CAT_ID10', 'CAT_ID05', 'V_XMATCH']

---
## Example HDUS List

### HDU0: PRIMARY
Target information

#### HDU Type: IMAGE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU0
Key | Value | Comment | |
| --- | --- | --- | --- |
| SIMPLE | True | conforms to FITS standard |
| BITPIX | 8 | array data type |
| NAXIS | 0 | number of array dimensions |
| EXTEND | True |  |
| V_ASTRA | 0.2.6 | Astra version |
| CREATED | 22-10-18 06:19:09 | File creation time (UTC %y-%m-%d %H:%M:%S) |
| HEALPIX | 13779 | Healpix location (128 sides) |
| CAT_ID | 27021597910404603 | SDSS-V catalog identifier |
| TIC_ID | 55761576 | TESS Input Catalog (v8) identifier |
| GAIA_ID | 1576126661170066688 | Gaia DR2 source identifier |
| RA | 181.7710643666084 | SDSS-V catalog right ascension (J2000) [deg] |
| DEC | 59.21282318647164 | SDSS-V catalog declination (J2000) [deg] |
| GAIA_RA | 181.7710643666084 | Gaia DR2 right ascension [deg] |
| GAIA_DEC | 59.21282318647164 | Gaia DR2 declination [deg] |
| PLX | 1.339033974056371 | Gaia DR2 parallax [mas] |
| E_PLX | 0.02200754038283536 | Gaia DR2 parallax error [mas] |
| PMRA | 2.261744965710382 | Gaia DR2 proper motion in RA [mas/yr] |
| E_PMRA | 0.03586677274251623 | Gaia DR2 proper motion in RA error [mas/yr] |
| PMDE | -10.02587343266854 | Gaia DR2 proper motion in DEC [mas/yr] |
| E_PMDE | 0.03423975401123466 | Gaia DR2 proper motion in DEC error [mas/yr] |
| V_RAD | -61.64333233793816 | Gaia DR2 radial velocity [km/s] |
| E_V_RAD | 0.8742333863301371 | Gaia DR2 radial velocity error [km/s] |
| G_MAG | 12.360463 | Gaia DR2 mean apparent G magnitude [mag] |
| BP_MAG | 12.839755 | Gaia DR2 mean apparent BP magnitude [mag] |
| RP_MAG | 11.742541 | Gaia DR2 mean apparent RP magnitude [mag] |
| J_MAG | 10.991 | 2MASS mean apparent J magnitude [mag] |
| E_J_MAG | 0.017 | 2MASS mean apparent J magnitude error [mag] |
| H_MAG | 10.502 | 2MASS mean apparent H magnitude [mag] |
| E_H_MAG | 0.021 | 2MASS mean apparent H magnitude error [mag] |
| K_MAG | 10.402 | 2MASS mean apparent K magnitude [mag] |
| E_K_MAG | 0.015 | 2MASS mean apparent K magnitude error [mag] |
| CARTON_0 | mwm_rv_short_fps | First carton for source (see documentation) |
| CARTONS | mwm_rv_short_fps,mwm_rv_short_fps,ops_std_apogee,manual_fps_position_stars_10,manual_fps_position_stars_apogee_10,ops_gaia_brightneighbors | SDSS-V cartons |
| PROGRAMS | mwm_rv,commissioning,ops_std,ops | SDSS-V programs |
| MAPPERS | mwm,commissioning,ops | SDSS-V mappers |
| CHECKSUM | OGBJR9AJOEAJO9AJ | HDU checksum updated 2022-10-18T00:19:38 |
| DATASUM | 0 | data unit checksum updated 2022-10-18T00:19:38 |
| COMMENT | HDU 0: Source information only |  |
| COMMENT | HDU 1: BOSS spectra from Apache Point Observatory |  |
| COMMENT | HDU 2: BOSS spectra from Las Campanas Observatory |  |
| COMMENT | HDU 3: APOGEE spectra from Apache Point Observatory |  |
| COMMENT | HDU 4: APOGEE spectra from Las Campanas Observatory |  |



### HDU1: BOSS/APO
Stacked spectra from the BOSS instrument at Apache Point Observatory

#### HDU Type: BINARY TABLE
#### HDU Size:  108 KB

##### Header Table Caption for HDU1
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 111556 | length of dimension 1 |
| NAXIS2 | 1 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 6 | number of table fields |
| EXTNAME | BOSS/APO | Short extension name |
| OBSRVTRY | APO | Observatory name |
| INSTRMNT | BOSS | Instrument name |
| V_BOSS | 6.0.1 | Version of the BOSS ICC |
| VJAEGER | 0.13.2-alpha.0 | Version of Jaeger |
| VKAIJU | 1.2.2-alpha.1 | Version of Kaiju |
| VCOORDIO | 1.2.2-alpha.0 | Version of coordIO |
| VCALIBS | APO.2021.12.25+960cb05 | Version of FPS calibrations |
| VERSIDL | 8.8.0 | Version of IDL |
| VERSUTIL | v5_5_17 | Version of idlutils |
| VERSREAD | v6_0_9 | Version of idlspec2d for processing raw data |
| VERS2D | v6_0_9 | Version of idlspec2d for 2D reduction |
| VERSCOMB | v6_0_9 | Version of idlspec2d for combining exposures |
| VERSLOG | trunk 27531 | Version of SPECLOG product |
| VERSFLAT | v1_34 | Version of SPECFLAT product |
| DIDFLUSH | True | Was CCD flushed before integration |
| CARTID | FPS-N | Cartridge identifier |
| PSFSKY | 3 | Order of PSF sky subtraction |
| PREJECT | 0.2 | Profile area rejection threshold |
| LOWREJ | 4 | Extraction: low rejection |
| HIGHREJ | 50 | Extraction: high rejection |
| SCATPOLY | 0 | Extraction: Order of scattered light polynomial |
| PROFTYPE | 1 | Extraction profile: 1=Gaussian |
| NFITPOLY | 1 | Extraction: Number of profile parameters |
| SKYCHI2 | 1.03626722288 | Mean \chi^2 of sky subtraction |
| SCHI2MIN | 1.01396622969 | Minimum \chi^2 of sky subtraction |
| SCHI2MAX | 1.08650361514 | Maximum \chi^2 of sky subtraction |
| V_HELIO | -5.2041389503 | Heliocentric velocity correction [km/s] |
| RDNOISE0 | 2.07779 | CCD read noise amp 0 [electrons] |
| NRES | 5 | Sinc bandlimit [pixel/resolution element] |
| FILTSIZE | 501 | Median filter size for pseudo-continuum [pixel] |
| NORMSIZE | 100 | Gaussian width for pseudo-continuum [pixel] |
| CONSCALE | False | Scale by pseudo-continuum when stacking |
| CRVAL | 3.5523 | Log(10) wavelength of first pixel [Angstrom] |
| CDELT | 0.0001 | Log(10) delta wavelength per pixel [Angstrom] |
| CTYPE | LOG-LINEAR | Wavelength solution description |
| CUNIT | Angstrom (Vacuum) | Wavelength solution unit |
| CRPIX | 1 | Pixel offset from the first pixel |
| DC-FLAG | 1 | Wavelength solution flag |
| NPIXELS | 4648 | Number of pixels per spectrum |
| TDIM1 | (1) |  |
| TDIM2 | (4648) |  |
| TDIM3 | (4648) |  |
| TDIM4 | (4648) |  |
| TDIM5 | (4648) |  |
| TDIM6 | (4648) |  |
| CHECKSUM | ZWoDZUl9ZUlAZUl9 | HDU checksum updated 2022-10-18T00:19:38 |
| DATASUM | 644102797 | data unit checksum updated 2022-10-18T00:19:38 |

##### Binary Table Caption for HDU1
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | SNR | float32[1] |  | Mean signal-to-noise ratio |
 | LAMBDA | float32[4648] |  | Source rest frame vacuum wavelength  |
 | FLUX | float32[4648] |  | Source flux |
 | E_FLUX | float32[4648] |  | Standard deviation of source flux |
 | BITMASK | int64[4648] |  | Pixel-level bitmask (see documentation) |
 | WRESL | float32[4648] |  |  |



### HDU2: BOSS/LCO
Placeholder for a stacked spectrum from BOSS south should such an instrument exist.

#### HDU Type: BINARY TABLE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU2
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 0 | length of dimension 1 |
| NAXIS2 | 0 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 0 | number of table fields |
| EXTNAME | BOSS/LCO |  |
| OBSRVTRY | LCO |  |
| INSTRMNT | BOSS |  |
| CHECKSUM | cij8eZj6cfj6cZj6 | HDU checksum updated 2022-10-18T00:19:38 |
| DATASUM | 0 | data unit checksum updated 2022-10-18T00:19:38 |
| COMMENT | No BOSS data available from LCO for this source. |  |

##### Binary Table Caption for HDU2
Name | Type | Unit | Description |
| --- | --- | --- | --- |



### HDU3: APOGEE/APO
Spectra from the APOGEE instrument at Apache Point Observatory.

#### HDU Type: BINARY TABLE
#### HDU Size:  167 KB

##### Header Table Caption for HDU3
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 171504 | length of dimension 1 |
| NAXIS2 | 1 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 5 | number of table fields |
| EXTNAME | APOGEE/APO | Short extension name |
| OBSRVTRY | APO | Observatory name |
| INSTRMNT | APOGEE | Instrument name |
| V_APRED | 6fb9549cfadd8e08a69335736a315f1d533830da | apogee software version |
| NRES | 5 4.25 3.5 | Sinc bandlimit [pixel/resolution element] |
| FILTSIZE | 501 | Median filter size for pseudo-continuum [pixel] |
| NORMSIZE | 100 | Gaussian width for pseudo-continuum [pixel] |
| CONSCALE | False | Scale by pseudo-continuum when stacking |
| DITHERED | 0.0 | Fraction of visits that were dithered |
| NVISITS | 13 | Number of visits included in the stack |
| TEFF_D | 5528.1 | Effective temperature from DOPPLER [K] |
| E_TEFF_D | 15.4 | Error in effective temperature from DOPPLER [K] |
| LOGG_D | 4.485 | Surface gravity from DOPPLER |
| E_LOGG_D | 0.015 | Error in surface gravity from DOPPLER |
| FEH_D | -0.265 | Metallicity from DOPPLER |
| E_FEH_D | 0.007 | Error in metallicity from DOPPLER |
| CRVAL | 4.179 | Log(10) wavelength of first pixel [Angstrom] |
| CDELT | 6e-06 | Log(10) delta wavelength per pixel [Angstrom] |
| CTYPE | LOG-LINEAR | Wavelength solution description |
| CUNIT | Angstrom (Vacuum) | Wavelength solution unit |
| CRPIX | 1 | Pixel offset from the first pixel |
| DC-FLAG | 1 | Wavelength solution flag |
| NPIXELS | 8575 | Number of pixels per spectrum |
| TDIM1 | (1) |  |
| TDIM2 | (8575) |  |
| TDIM3 | (8575) |  |
| TDIM4 | (8575) |  |
| TDIM5 | (8575) |  |
| CHECKSUM | aKRpaIOoaIOoaIOo | HDU checksum updated 2022-10-18T00:19:38 |
| DATASUM | 1170225260 | data unit checksum updated 2022-10-18T00:19:38 |

##### Binary Table Caption for HDU3
Name | Type | Unit | Description |
| --- | --- | --- | --- |
 | SNR | float32[1] |  | Mean signal-to-noise ratio |
 | LAMBDA | float32[8575] |  | Source rest frame vacuum wavelength  |
 | FLUX | float32[8575] |  | Source flux |
 | E_FLUX | float32[8575] |  | Standard deviation of source flux |
 | BITMASK | int64[8575] |  | Pixel-level bitmask (see documentation) |



### HDU4: APOGEE/LCO
Stacked spectra from the APOGEE instrument at Las Campanas Observatory.

#### HDU Type: BINARY TABLE
#### HDU Size:  0 bytes

##### Header Table Caption for HDU4
Key | Value | Comment | |
| --- | --- | --- | --- |
| XTENSION | BINTABLE | binary table extension |
| BITPIX | 8 | array data type |
| NAXIS | 2 | number of array dimensions |
| NAXIS1 | 0 | length of dimension 1 |
| NAXIS2 | 0 | length of dimension 2 |
| PCOUNT | 0 | number of group parameters |
| GCOUNT | 1 | number of groups |
| TFIELDS | 0 | number of table fields |
| EXTNAME | APOGEE/LCO |  |
| OBSRVTRY | LCO |  |
| INSTRMNT | APOGEE |  |
| CHECKSUM | HooWJolTHolTHolT | HDU checksum updated 2022-10-18T00:19:38 |
| DATASUM | 0 | data unit checksum updated 2022-10-18T00:19:38 |
| COMMENT | No APOGEE data available from LCO for this source. |  |

##### Binary Table Caption for HDU4
Name | Type | Unit | Description |
| --- | --- | --- | --- |



---
## Notes
None